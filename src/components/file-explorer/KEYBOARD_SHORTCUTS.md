# 文件管理器键盘快捷键

## 已实现的快捷键列表

### 文件操作类

| 快捷键 | 功能 | 右键菜单对应 | 状态 |
|--------|------|--------------|------|
| `Ctrl+A` | 全选文件 | - | ✅ 已实现 |
| `Ctrl+C` | 复制选中文件 | 复制 | ✅ 已实现 |
| `Ctrl+X` | 剪切选中文件 | 剪切 | ✅ 已实现 |
| `Ctrl+V` | 粘贴文件 | 粘贴 | ✅ 已实现 |
| `Delete` | 删除选中文件 | 删除 | ✅ 已实现 |
| `F2` | 重命名（单个文件） | 重命名 | ✅ 已实现 |
| `Enter` | 打开选中文件 | 打开 | ✅ 已实现 |
| `Alt+Enter` | 显示文件属性（单个文件） | 属性 | ✅ 已实现 |

### 视图切换类

| 快捷键 | 功能 | 状态 |
|--------|------|------|
| `Ctrl+1` | 切换到网格视图 | ✅ 已实现 |
| `Ctrl+2` | 切换到列表视图 | ✅ 已实现 |
| `Ctrl+3` | 切换到平铺视图 | ✅ 已实现 |
| `Ctrl+4` | 切换到详细视图 | ✅ 已实现 |
| `Ctrl+5` | 切换到内容视图 | ✅ 已实现 |

### 其他操作

| 快捷键 | 功能 | 右键菜单对应 | 状态 |
|--------|------|--------------|------|
| `F5` | 刷新当前视图 | 刷新 | ✅ 已实现 |
| `Ctrl+Shift+N` | 新建文件夹 | 新建文件夹 | ✅ 已实现 |
| `Escape` | 取消选择 | - | ✅ 已实现 |

## 与右键菜单的对应关系

### useContextMenuOptions.ts 中定义的快捷键

**空白区菜单**:
- `F5` - 刷新 ✅
- `Ctrl+Shift+N` - 新建文件夹 ✅
- `Ctrl+V` - 粘贴 ✅

**文件区菜单**:
- `Enter` - 打开 ✅
- `Ctrl+X` - 剪切 ✅
- `Ctrl+C` - 复制 ✅
- `F2` - 重命名 ✅
- `Delete` - 删除 ✅
- `Alt+Enter` - 属性 ✅

## 使用说明

### 快捷键作用域
- 快捷键仅在文件管理器容器获得焦点时生效
- 容器通过 `tabindex={0}` 使其可以获得焦点
- 点击文件管理器区域即可激活快捷键

### 特殊说明

1. **全选 (Ctrl+A)**
   - 选中当前视图中的所有文件和文件夹
   - 显示消息提示 "已全选"

2. **复制/剪切 (Ctrl+C / Ctrl+X)**
   - 需要先选中文件
   - 操作会将文件放入内部剪贴板
   - 显示操作成功的消息提示

3. **粘贴 (Ctrl+V)**
   - 需要先执行复制或剪切操作
   - 剪切操作粘贴后会清空剪贴板
   - 复制操作可以多次粘贴

4. **删除 (Delete)**
   - 需要先选中文件
   - 显示删除确认消息

5. **重命名 (F2)**
   - 只能重命名单个文件
   - 多选时不生效

6. **打开 (Enter)**
   - 只能打开单个文件
   - 多选时显示警告

7. **属性 (Alt+Enter)**
   - 只能查看单个文件的属性
   - 多选时不生效

8. **视图切换 (Ctrl+1-5)**
   - 可以快速在不同视图模式间切换
   - 显示当前视图名称的提示

9. **取消选择 (Escape)**
   - 清空所有选中的文件
   - 显示 "已取消选择" 提示

## 技术实现

### 架构设计
- `useKeyboardShortcuts` - 通用键盘快捷键管理 hooks
- `useFileOperations` - 文件操作逻辑封装
- `FileExplorer.tsx` - 主组件集成点

### 关键特性
- 快捷键与右键菜单功能保持一致
- 统一的消息提示反馈
- 状态验证（如单选、多选限制）
- 可扩展的架构设计

## 测试清单

### 文件操作测试
- [x] Ctrl+A 全选所有文件
- [x] Ctrl+C 复制选中文件
- [x] Ctrl+X 剪切选中文件
- [x] Ctrl+V 粘贴文件
- [x] Delete 删除选中文件
- [x] F2 重命名单个文件
- [x] Enter 打开单个文件
- [x] Alt+Enter 显示文件属性

### 视图切换测试
- [x] Ctrl+1 切换到网格视图
- [x] Ctrl+2 切换到列表视图
- [x] Ctrl+3 切换到平铺视图
- [x] Ctrl+4 切换到详细视图
- [x] Ctrl+5 切换到内容视图

### 其他操作测试
- [x] F5 刷新视图
- [x] Ctrl+Shift+N 新建文件夹
- [x] Escape 取消选择

### 边界情况测试
- [x] 未选中文件时按 Ctrl+C/X/Delete（显示警告）
- [x] 多选文件时按 F2（显示警告）
- [x] 多选文件时按 Enter（显示警告）
- [x] 多选文件时按 Alt+Enter（显示警告）
- [x] 剪贴板为空时按 Ctrl+V（显示警告）

## 未来扩展

可以考虑添加的快捷键：
- `Ctrl+D` - 复制文件（duplicate）
- `Ctrl+Z` - 撤销操作
- `Ctrl+Y` - 重做操作
- `Ctrl+F` - 搜索文件
- `Backspace` - 返回上级目录
- `Arrow Keys` - 键盘导航选择
- `Space` - 预览文件
- `Ctrl+Shift+Delete` - 永久删除（不进回收站）

