import{u as vl,T as gl,b as ml,c as pl,F as yl,C as wl,a as Gt,I as xl,V as bl,M as kl,A as Cl,_ as Zt,D as Sl}from"./VideocamOutline-DJj5u7Ar.js";import{d as z,D as O,r as C,c as N,Q as De,n as Oe,au as te,y as Z,ap as Dl,z as j,cM as zl,C as K,aq as le,cN as kn,cO as Ml,aX as Cn,q as Sn,cP as Qt,E as lt,cQ as Fl,cy as It,cR as Ol,F as at,G as $e,cS as Rl,j as Re,ac as _t,J as Bl,K as wt,cB as Tl,aP as Ne,ao as Ze,cT as Nl,cU as $l,cV as Al,cW as Jt,al as Pt,cX as Dn,cY as zn,aS as Mn,cZ as Il,ar as Ot,m as ze,a$ as nt,b2 as he,aE as El,aR as Rt,c_ as _l,N as Pl,a9 as jl,aU as me,c$ as Ll,d0 as vt,I as Fn,aQ as en,d1 as Kl,d2 as Bt,cC as Hl,ae as tt,cD as tn,d3 as ql,a_ as nn,M as Ye,d4 as ln,d5 as Vl,cH as on,a as W,o as H,b as S,a7 as Fe,e as l,f as ee,B as ie,a0 as rt,af as J,i as gt,aW as ot,d6 as it,b1 as Qe,a5 as Wl,T as Ul,d7 as Xl,d8 as mt,a2 as _e,aG as Yl,aT as rn,cK as Tt,l as Gl,k as jt,d9 as Zl,ai as Ql,aJ as Jl,bF as eo,bG as to,bH as no,bI as an,cI as lo,v as oo,g as ro}from"./index-saEpKK3w.js";import{_ as Ge}from"./Space-DXVLf2rs.js";import{a as sn,_ as ao}from"./FormItem-BZT5HQcH.js";import{N as io}from"./NSelectionRect-BSN_GCkC.js";import{u as pe}from"./use-theme-vars-BIXdptPX.js";import{F as so,C as uo,a as pt,b as co}from"./FileCode-DY-iW2wB.js";import{N as fo}from"./Spin-BYs-ry5f.js";import{N as dn}from"./text-DGFBZXUU.js";import{p as On,l as ho,N as vo}from"./Menu-DqGY6WeT.js";function Rn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const go=z({name:"Switcher",render(){return O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},O("path",{d:"M12 8l10 8l-10 8z"}))}}),un=z({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=C(null),n=C(e.value),a=C(e.value),i=C("up"),o=C(!1),r=N(()=>o.value?`${e.clsPrefix}-base-slot-machine-current-number--${i.value}-scroll`:null),d=N(()=>o.value?`${e.clsPrefix}-base-slot-machine-old-number--${i.value}-scroll`:null);De(te(e,"value"),(c,g)=>{n.value=g,a.value=c,Oe(s)});function s(){const c=e.newOriginalNumber,g=e.oldOriginalNumber;g===void 0||c===void 0||(c>g?u("up"):g>c&&u("down"))}function u(c){i.value=c,o.value=!1,Oe(()=>{var g;(g=t.value)===null||g===void 0||g.offsetWidth,o.value=!0})}return()=>{const{clsPrefix:c}=e;return O("span",{ref:t,class:`${c}-base-slot-machine-number`},n.value!==null?O("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--top`,d.value]},n.value):null,O("span",{class:[`${c}-base-slot-machine-current-number`,r.value]},O("span",{ref:"numberWrapper",class:[`${c}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${c}-base-slot-machine-current-number__inner--not-number`]},a.value)),n.value!==null?O("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--bottom`,d.value]},n.value):null)}}}),{cubicBezierEaseOut:We}=Dl;function mo({duration:e=".2s"}={}){return[Z("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${We},
 max-width ${e} ${We},
 transform ${e} ${We}
 `}),Z("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${We},
 max-width ${e} ${We},
 transform ${e} ${We}
 `}),Z("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),Z("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),Z("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),Z("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const po=Z([Z("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),Z("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),Z("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),Z("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),j("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[j("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[mo({duration:".2s"}),zl({duration:".2s",delay:"0s"}),j("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[K("top",{transform:"translateY(-100%)"}),K("bottom",{transform:"translateY(100%)"}),K("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),K("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),j("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[K("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),K("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),le("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[K("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),yo=z({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){kn("-base-slot-machine",po,te(e,"clsPrefix"));const t=C(),n=C(),a=N(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const i=[];let o=e.value;for(e.max!==void 0&&(o=Math.min(e.max,o));o>=1;)i.push(o%10),o/=10,o=Math.floor(o);return i.reverse(),i});return De(te(e,"value"),(i,o)=>{typeof i=="string"?(n.value=void 0,t.value=void 0):typeof o=="string"?(n.value=i,t.value=void 0):(n.value=i,t.value=o)}),()=>{const{value:i,clsPrefix:o}=e;return typeof i=="number"?O("span",{class:`${o}-base-slot-machine`},O(Ml,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>a.value.map((r,d)=>O(un,{clsPrefix:o,key:a.value.length-d-1,oldOriginalNumber:t.value,newOriginalNumber:n.value,value:r}))}),O(Cn,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<i?O(un,{clsPrefix:o,value:"+"}):null})):O("span",{class:`${o}-base-slot-machine`},i)}}});function wo(e){const{errorColor:t,infoColor:n,successColor:a,warningColor:i,fontFamily:o}=e;return{color:t,colorInfo:n,colorSuccess:a,colorError:t,colorWarning:i,fontSize:"12px",fontFamily:o}}const xo={common:Sn,self:wo},bo=Z([Z("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),j("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 font-family: var(--n-font-family);
 `,[K("as-is",[j("badge-sup",{position:"static",transform:"translateX(0)"},[Qt({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),K("dot",[j("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[Z("::before","border-radius: 4px;")])]),j("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 2;
 display: flex;
 align-items: center;
 `,[Qt({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),j("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),Z("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),ko=Object.assign(Object.assign({},$e.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),cn=z({name:"Badge",props:ko,setup(e,{slots:t}){const{mergedClsPrefixRef:n,inlineThemeDisabled:a,mergedRtlRef:i}=at(e),o=$e("Badge","-badge",bo,xo,e,n),r=C(!1),d=()=>{r.value=!0},s=()=>{r.value=!1},u=N(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&Number(e.value)<=0)||!Rl(t.value)));Re(()=>{u.value&&(r.value=!0)});const c=_t("Badge",i,n),g=N(()=>{const{type:h,color:v}=e,{common:{cubicBezierEaseInOut:w,cubicBezierEaseOut:x},self:{[Bl("color",h)]:T,fontFamily:E,fontSize:q}}=o.value;return{"--n-font-size":q,"--n-font-family":E,"--n-color":v||T,"--n-ripple-color":v||T,"--n-bezier":w,"--n-ripple-bezier":x}}),m=a?wt("badge",N(()=>{let h="";const{type:v,color:w}=e;return v&&(h+=v[0]),w&&(h+=Tl(w)),h}),g,e):void 0,b=N(()=>{const{offset:h}=e;if(!h)return;const[v,w]=h,x=typeof v=="number"?`${v}px`:v,T=typeof w=="number"?`${w}px`:w;return{transform:`translate(calc(${c!=null&&c.value?"50%":"-50%"} + ${x}), ${T})`}});return{rtlEnabled:c,mergedClsPrefix:n,appeared:r,showBadge:u,handleAfterEnter:d,handleAfterLeave:s,cssVars:a?void 0:g,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender,offsetStyle:b}},render(){var e;const{mergedClsPrefix:t,onRender:n,themeClass:a,$slots:i}=this;n==null||n();const o=(e=i.default)===null||e===void 0?void 0:e.call(i);return O("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,a,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!o}],style:this.cssVars},o,O(lt,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?O("sup",{class:`${t}-badge-sup`,title:Fl(this.value),style:this.offsetStyle},It(i.value,()=>[this.dot?null:O(yo,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?O(Ol,{clsPrefix:t}):null):null}))}}),ue="0!important",Bn="-1px!important";function Ue(e){return K(`${e}-type`,[Z("& +",[j("button",{},[K(`${e}-type`,[le("border",{borderLeftWidth:ue}),le("state-border",{left:Bn})])])])])}function Xe(e){return K(`${e}-type`,[Z("& +",[j("button",[K(`${e}-type`,[le("border",{borderTopWidth:ue}),le("state-border",{top:Bn})])])])])}const Co=j("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[Ne("vertical",{flexDirection:"row"},[Ne("rtl",[j("button",[Z("&:first-child:not(:last-child)",`
 margin-right: ${ue};
 border-top-right-radius: ${ue};
 border-bottom-right-radius: ${ue};
 `),Z("&:last-child:not(:first-child)",`
 margin-left: ${ue};
 border-top-left-radius: ${ue};
 border-bottom-left-radius: ${ue};
 `),Z("&:not(:first-child):not(:last-child)",`
 margin-left: ${ue};
 margin-right: ${ue};
 border-radius: ${ue};
 `),Ue("default"),K("ghost",[Ue("primary"),Ue("info"),Ue("success"),Ue("warning"),Ue("error")])])])]),K("vertical",{flexDirection:"column"},[j("button",[Z("&:first-child:not(:last-child)",`
 margin-bottom: ${ue};
 margin-left: ${ue};
 margin-right: ${ue};
 border-bottom-left-radius: ${ue};
 border-bottom-right-radius: ${ue};
 `),Z("&:last-child:not(:first-child)",`
 margin-top: ${ue};
 margin-left: ${ue};
 margin-right: ${ue};
 border-top-left-radius: ${ue};
 border-top-right-radius: ${ue};
 `),Z("&:not(:first-child):not(:last-child)",`
 margin: ${ue};
 border-radius: ${ue};
 `),Xe("default"),K("ghost",[Xe("primary"),Xe("info"),Xe("success"),Xe("warning"),Xe("error")])])])]),So={size:{type:String,default:void 0},vertical:Boolean},Do=z({name:"ButtonGroup",props:So,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=at(e);return kn("-button-group",Co,t),Ze(Nl,e),{rtlEnabled:_t("ButtonGroup",n,t),mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return O("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}});function zo(e){const{baseColor:t,textColor2:n,bodyColor:a,cardColor:i,dividerColor:o,actionColor:r,scrollbarColor:d,scrollbarColorHover:s,invertedColor:u}=e;return{textColor:n,textColorInverted:"#FFF",color:a,colorEmbedded:r,headerColor:i,headerColorInverted:u,footerColor:r,footerColorInverted:u,headerBorderColor:o,headerBorderColorInverted:u,footerBorderColor:o,footerBorderColorInverted:u,siderBorderColor:o,siderBorderColorInverted:u,siderColor:i,siderColorInverted:u,siderToggleButtonBorder:`1px solid ${o}`,siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:Jt(a,d),siderToggleBarColorHover:Jt(a,s),__invertScrollbar:"true"}}const Tn=$l({name:"Layout",common:Sn,peers:{Scrollbar:Al},self:zo}),Mo=j("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[j("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),K("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Fo={embedded:Boolean,position:On,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentClass:String,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Nn=Pt("n-layout");function $n(e){return z({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},$e.props),Fo),setup(t){const n=C(null),a=C(null),{mergedClsPrefixRef:i,inlineThemeDisabled:o}=at(t),r=$e("Layout","-layout",Mo,Tn,t,i);function d(v,w){if(t.nativeScrollbar){const{value:x}=n;x&&(w===void 0?x.scrollTo(v):x.scrollTo(v,w))}else{const{value:x}=a;x&&x.scrollTo(v,w)}}Ze(Nn,t);let s=0,u=0;const c=v=>{var w;const x=v.target;s=x.scrollLeft,u=x.scrollTop,(w=t.onScroll)===null||w===void 0||w.call(t,v)};zn(()=>{if(t.nativeScrollbar){const v=n.value;v&&(v.scrollTop=u,v.scrollLeft=s)}});const g={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},m={scrollTo:d},b=N(()=>{const{common:{cubicBezierEaseInOut:v},self:w}=r.value;return{"--n-bezier":v,"--n-color":t.embedded?w.colorEmbedded:w.color,"--n-text-color":w.textColor}}),h=o?wt("layout",N(()=>t.embedded?"e":""),b,t):void 0;return Object.assign({mergedClsPrefix:i,scrollableElRef:n,scrollbarInstRef:a,hasSiderStyle:g,mergedTheme:r,handleNativeElScroll:c,cssVars:o?void 0:b,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender},m)},render(){var t;const{mergedClsPrefix:n,hasSider:a}=this;(t=this.onRender)===null||t===void 0||t.call(this);const i=a?this.hasSiderStyle:void 0,o=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return O("div",{class:o,style:this.cssVars},this.nativeScrollbar?O("div",{ref:"scrollableElRef",class:[`${n}-layout-scroll-container`,this.contentClass],style:[this.contentStyle,i],onScroll:this.handleNativeElScroll},this.$slots):O(Dn,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:this.contentClass,contentStyle:[this.contentStyle,i]}),this.$slots))}})}const Oo=$n(!1),Ro=$n(!0),Bo=j("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[K("bordered",[le("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),le("left-placement",[K("bordered",[le("border",`
 right: 0;
 `)])]),K("right-placement",`
 justify-content: flex-start;
 `,[K("bordered",[le("border",`
 left: 0;
 `)]),K("collapsed",[j("layout-toggle-button",[j("base-icon",`
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",[Z("&:hover",[le("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),le("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),j("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[j("base-icon",`
 transform: rotate(0);
 `)]),j("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[Z("&:hover",[le("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),le("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),K("collapsed",[j("layout-toggle-bar",[Z("&:hover",[le("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),le("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),j("layout-toggle-button",[j("base-icon",`
 transform: rotate(0);
 `)])]),j("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[j("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),j("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[le("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),le("bottom",`
 position: absolute;
 top: 34px;
 `),Z("&:hover",[le("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),le("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),le("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),Z("&:hover",[le("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),le("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),j("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),K("show-content",[j("layout-sider-scroll-container",{opacity:1})]),K("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),To=z({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return O("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},O("div",{class:`${e}-layout-toggle-bar__top`}),O("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),No=z({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return O("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},O(Mn,{clsPrefix:e},{default:()=>O(Il,null)}))}}),$o={position:On,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentClass:String,contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerClass:String,triggerStyle:[String,Object],collapsedTriggerClass:String,collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},fn=z({name:"LayoutSider",props:Object.assign(Object.assign({},$e.props),$o),setup(e){const t=ze(Nn),n=C(null),a=C(null),i=C(e.defaultCollapsed),o=nt(te(e,"collapsed"),i),r=N(()=>Ot(o.value?e.collapsedWidth:e.width)),d=N(()=>e.collapseMode!=="transform"?{}:{minWidth:Ot(e.width)}),s=N(()=>t?t.siderPlacement:"left");function u(Y,y){if(e.nativeScrollbar){const{value:F}=n;F&&(y===void 0?F.scrollTo(Y):F.scrollTo(Y,y))}else{const{value:F}=a;F&&F.scrollTo(Y,y)}}function c(){const{"onUpdate:collapsed":Y,onUpdateCollapsed:y,onExpand:F,onCollapse:R}=e,{value:$}=o;y&&he(y,!$),Y&&he(Y,!$),i.value=!$,$?F&&he(F):R&&he(R)}let g=0,m=0;const b=Y=>{var y;const F=Y.target;g=F.scrollLeft,m=F.scrollTop,(y=e.onScroll)===null||y===void 0||y.call(e,Y)};zn(()=>{if(e.nativeScrollbar){const Y=n.value;Y&&(Y.scrollTop=m,Y.scrollLeft=g)}}),Ze(ho,{collapsedRef:o,collapseModeRef:te(e,"collapseMode")});const{mergedClsPrefixRef:h,inlineThemeDisabled:v}=at(e),w=$e("Layout","-layout-sider",Bo,Tn,e,h);function x(Y){var y,F;Y.propertyName==="max-width"&&(o.value?(y=e.onAfterLeave)===null||y===void 0||y.call(e):(F=e.onAfterEnter)===null||F===void 0||F.call(e))}const T={scrollTo:u},E=N(()=>{const{common:{cubicBezierEaseInOut:Y},self:y}=w.value,{siderToggleButtonColor:F,siderToggleButtonBorder:R,siderToggleBarColor:$,siderToggleBarColorHover:L}=y,G={"--n-bezier":Y,"--n-toggle-button-color":F,"--n-toggle-button-border":R,"--n-toggle-bar-color":$,"--n-toggle-bar-color-hover":L};return e.inverted?(G["--n-color"]=y.siderColorInverted,G["--n-text-color"]=y.textColorInverted,G["--n-border-color"]=y.siderBorderColorInverted,G["--n-toggle-button-icon-color"]=y.siderToggleButtonIconColorInverted,G.__invertScrollbar=y.__invertScrollbar):(G["--n-color"]=y.siderColor,G["--n-text-color"]=y.textColor,G["--n-border-color"]=y.siderBorderColor,G["--n-toggle-button-icon-color"]=y.siderToggleButtonIconColor),G}),q=v?wt("layout-sider",N(()=>e.inverted?"a":"b"),E,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:a,mergedClsPrefix:h,mergedTheme:w,styleMaxWidth:r,mergedCollapsed:o,scrollContainerStyle:d,siderPlacement:s,handleNativeElScroll:b,handleTransitionend:x,handleTriggerClick:c,inlineThemeDisabled:v,cssVars:E,themeClass:q==null?void 0:q.themeClass,onRender:q==null?void 0:q.onRender},T)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:a}=this;return(e=this.onRender)===null||e===void 0||e.call(this),O("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:Ot(this.width)}]},this.nativeScrollbar?O("div",{class:[`${t}-layout-sider-scroll-container`,this.contentClass],onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):O(Dn,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,contentClass:this.contentClass,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),a?a==="bar"?O(To,{clsPrefix:t,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):O(No,{clsPrefix:t,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?O("div",{class:`${t}-layout-sider__border`}):null)}}),An=Pt("n-tree-select");function hn({position:e,offsetLevel:t,indent:n,el:a}){const i={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")i.left=0,i.top=0,i.bottom=0,i.borderRadius="inherit",i.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const o=e==="before"?"top":"bottom";i[o]=0,i.left=`${a.offsetLeft+6-t*n}px`,i.height="2px",i.backgroundColor="var(--n-drop-mark-color)",i.transformOrigin=o,i.borderRadius="1px",i.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return O("div",{style:i})}function Ao({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}const st=Pt("n-tree");function Io({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:a,mergedCheckedKeysRef:i,handleCheck:o,handleSelect:r,handleSwitcherClick:d}){const{value:s}=a,u=ze(An,null),c=u?u.pendingNodeKeyRef:C(s.length?s[s.length-1]:null);function g(m){var b;if(!e.keyboard)return{enterBehavior:null};const{value:h}=c;let v=null;if(h===null){if((m.key==="ArrowDown"||m.key==="ArrowUp")&&m.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(m.key)&&h===null){const{value:w}=t;let x=0;for(;x<w.length;){if(!w[x].disabled){c.value=w[x].key;break}x+=1}}}else{const{value:w}=t;let x=w.findIndex(T=>T.key===h);if(!~x)return{enterBehavior:null};if(m.key==="Enter"){const T=w[x];switch(v=((b=e.overrideDefaultNodeClickBehavior)===null||b===void 0?void 0:b.call(e,{option:T.rawNode}))||null,v){case"toggleCheck":o(T,!i.value.includes(T.key));break;case"toggleSelect":r(T);break;case"toggleExpand":d(T);break;case"none":break;case"default":default:v="default",r(T)}}else if(m.key==="ArrowDown")for(m.preventDefault(),x+=1;x<w.length;){if(!w[x].disabled){c.value=w[x].key;break}x+=1}else if(m.key==="ArrowUp")for(m.preventDefault(),x-=1;x>=0;){if(!w[x].disabled){c.value=w[x].key;break}x-=1}else if(m.key==="ArrowLeft"){const T=w[x];if(T.isLeaf||!n.value.includes(h)){const E=T.getParent();E&&(c.value=E.key)}else d(T)}else if(m.key==="ArrowRight"){const T=w[x];if(T.isLeaf)return{enterBehavior:null};if(!n.value.includes(h))d(T);else for(x+=1;x<w.length;){if(!w[x].disabled){c.value=w[x].key;break}x+=1}}}return{enterBehavior:v}}return{pendingNodeKeyRef:c,handleKeydown:g}}const Eo=z({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=ze(st);function n(i){const{onCheck:o}=e;o&&o(i)}function a(i){n(i)}return{handleUpdateValue:a,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:a,disabled:i,focusable:o,indent:r,handleUpdateValue:d}=this;return O("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],style:{width:`${r}px`},"data-checkbox":!0},O(El,{focusable:o,disabled:i,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:a,onUpdateChecked:d}))}}),_o=z({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:a,labelFieldRef:i}=ze(st),o=C(null);function r(s){const{onClick:u}=e;u&&u(s)}function d(s){r(s)}return{selfRef:o,renderLabel:t,renderPrefix:n,renderSuffix:a,labelField:i,handleClick:d}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:a=!1,selected:i=!1,renderLabel:o,renderPrefix:r,renderSuffix:d,handleClick:s,onDragstart:u,tmNode:{rawNode:c,rawNode:{prefix:g,suffix:m,[t]:b}}}=this;return O("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:s,draggable:u===void 0?void 0:!0,onDragstart:u}),r||g?O("div",{class:`${e}-tree-node-content__prefix`},r?r({option:c,selected:i,checked:a}):Rt(g)):null,O("div",{class:`${e}-tree-node-content__text`},o?o({option:c,selected:i,checked:a}):Rt(b)),d||m?O("div",{class:`${e}-tree-node-content__suffix`},d?d({option:c,selected:i,checked:a}):Rt(m)):null)}}),Po=z({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(e){const{renderSwitcherIconRef:t}=ze(st,null);return()=>{const{clsPrefix:n,expanded:a,hide:i,indent:o,onClick:r}=e;return O("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,a&&`${n}-tree-node-switcher--expanded`,i&&`${n}-tree-node-switcher--hide`],style:{width:`${o}px`},onClick:r},O("div",{class:`${n}-tree-node-switcher__icon`},O(_l,null,{default:()=>{if(e.loading)return O(Pl,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:d}=t;return d?d({expanded:e.expanded,selected:e.selected,option:e.tmNode.rawNode}):O(Mn,{clsPrefix:n,key:"switcher"},{default:()=>O(go,null)})}})))}}});function jo(e){return N(()=>e.leafOnly?"child":e.checkStrategy)}function Te(e,t){return!!e.rawNode[t]}function In(e,t,n,a){e==null||e.forEach(i=>{n(i),In(i[t],t,n,a),a(i)})}function Lo(e,t,n,a,i){const o=new Set,r=new Set,d=[];return In(e,a,s=>{if(d.push(s),i(t,s)){r.add(s[n]);for(let u=d.length-2;u>=0;--u)if(!o.has(d[u][n]))o.add(d[u][n]);else return}},()=>{d.pop()}),{expandedKeys:Array.from(o),highlightKeySet:r}}if(jl&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Ko(e,t,n,a,i){const o=new Set,r=new Set,d=new Set,s=[],u=[],c=[];function g(b){b.forEach(h=>{if(c.push(h),t(n,h)){o.add(h[a]),d.add(h[a]);for(let w=c.length-2;w>=0;--w){const x=c[w][a];if(!r.has(x))r.add(x),o.has(x)&&o.delete(x);else break}}const v=h[i];v&&g(v),c.pop()})}g(e);function m(b,h){b.forEach(v=>{const w=v[a],x=o.has(w),T=r.has(w);if(!x&&!T)return;const E=v[i];if(E)if(x)h.push(v);else{s.push(w);const q=Object.assign(Object.assign({},v),{[i]:[]});h.push(q),m(E,q[i])}else h.push(v)})}return m(e,u),{filteredTree:u,highlightKeySet:d,expandedKeys:s}}const En=z({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=ze(st),{droppingNodeParentRef:n,droppingMouseNodeRef:a,draggingNodeRef:i,droppingPositionRef:o,droppingOffsetLevelRef:r,nodePropsRef:d,indentRef:s,blockLineRef:u,checkboxPlacementRef:c,checkOnClickRef:g,disabledFieldRef:m,showLineRef:b,renderSwitcherIconRef:h,overrideDefaultNodeClickBehaviorRef:v}=t,w=me(()=>!!e.tmNode.rawNode.checkboxDisabled),x=me(()=>Te(e.tmNode,m.value)),T=me(()=>t.disabledRef.value||x.value),E=N(()=>{const{value:A}=d;if(A)return A({option:e.tmNode.rawNode})}),q=C(null),Y={value:null};Re(()=>{Y.value=q.value.$el});function y(){const A=()=>{const{tmNode:Q}=e;if(!Q.isLeaf&&!Q.shallowLoaded){if(!t.loadingKeysRef.value.has(Q.key))t.loadingKeysRef.value.add(Q.key);else return;const{onLoadRef:{value:X}}=t;X&&X(Q.rawNode).then(se=>{se!==!1&&t.handleSwitcherClick(Q)}).finally(()=>{t.loadingKeysRef.value.delete(Q.key)})}else t.handleSwitcherClick(Q)};h.value?setTimeout(A,0):A()}const F=me(()=>!x.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),R=me(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),$=me(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),L=me(()=>{const{value:A}=R;if(!A)return!1;const{value:Q}=g,{tmNode:X}=e;return typeof Q=="boolean"?!X.disabled&&Q:Q(e.tmNode.rawNode)});function G(A){const{value:Q}=t.expandOnClickRef,{value:X}=F,{value:se}=L;if(!X&&!Q&&!se||vt(A,"checkbox")||vt(A,"switcher"))return;const{tmNode:fe}=e;X&&t.handleSelect(fe),Q&&!fe.isLeaf&&y(),se&&I(!$.value)}function re(A){var Q,X;if(!(vt(A,"checkbox")||vt(A,"switcher"))){if(!T.value){const se=v.value;let fe=!1;if(se)switch(se({option:e.tmNode.rawNode})){case"toggleCheck":fe=!0,I(!$.value);break;case"toggleSelect":fe=!0,t.handleSelect(e.tmNode);break;case"toggleExpand":fe=!0,y(),fe=!0;break;case"none":fe=!0,fe=!0;return}fe||G(A)}(X=(Q=E.value)===null||Q===void 0?void 0:Q.onClick)===null||X===void 0||X.call(Q,A)}}function p(A){u.value||re(A)}function D(A){u.value&&re(A)}function I(A){t.handleCheck(e.tmNode,A)}function M(A){t.handleDragStart({event:A,node:e.tmNode})}function V(A){A.currentTarget===A.target&&t.handleDragEnter({event:A,node:e.tmNode})}function U(A){A.preventDefault(),t.handleDragOver({event:A,node:e.tmNode})}function ae(A){t.handleDragEnd({event:A,node:e.tmNode})}function ce(A){A.currentTarget===A.target&&t.handleDragLeave({event:A,node:e.tmNode})}function ge(A){A.preventDefault(),o.value!==null&&t.handleDrop({event:A,node:e.tmNode,dropPosition:o.value})}const ye=N(()=>{const{clsPrefix:A}=e,{value:Q}=s;if(b.value){const X=[];let se=e.tmNode.parent;for(;se;)se.isLastChild?X.push(O("div",{class:`${A}-tree-node-indent`},O("div",{style:{width:`${Q}px`}}))):X.push(O("div",{class:[`${A}-tree-node-indent`,`${A}-tree-node-indent--show-line`]},O("div",{style:{width:`${Q}px`}}))),se=se.parent;return X.reverse()}else return Ll(e.tmNode.level,O("div",{class:`${e.clsPrefix}-tree-node-indent`},O("div",{style:{width:`${Q}px`}})))});return{showDropMark:me(()=>{const{value:A}=i;if(!A)return;const{value:Q}=o;if(!Q)return;const{value:X}=a;if(!X)return;const{tmNode:se}=e;return se.key===X.key}),showDropMarkAsParent:me(()=>{const{value:A}=n;if(!A)return!1;const{tmNode:Q}=e,{value:X}=o;return X==="before"||X==="after"?A.key===Q.key:!1}),pending:me(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:me(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:me(()=>{var A;return(A=t.highlightKeySetRef.value)===null||A===void 0?void 0:A.has(e.tmNode.key)}),checked:$,indeterminate:me(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:me(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:me(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:T,checkable:R,mergedCheckOnClick:L,checkboxDisabled:w,selectable:F,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:u,nodeProps:E,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:o,droppingOffsetLevel:r,indent:s,checkboxPlacement:c,showLine:b,contentInstRef:q,contentElRef:Y,indentNodes:ye,handleCheck:I,handleDrop:ge,handleDragStart:M,handleDragEnter:V,handleDragOver:U,handleDragEnd:ae,handleDragLeave:ce,handleLineClick:D,handleContentClick:p,handleSwitcherClick:y}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:a,selectable:i,selected:o,checked:r,highlight:d,draggable:s,blockLine:u,indent:c,indentNodes:g,disabled:m,pending:b,internalScrollable:h,nodeProps:v,checkboxPlacement:w}=this,x=s&&!m?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,T=h?Rn(e.key):void 0,E=w==="right",q=n?O(Eo,{indent:c,right:E,focusable:this.checkboxFocusable,disabled:m||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return O("div",Object.assign({class:`${t}-tree-node-wrapper`},x),O("div",Object.assign({},u?v:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:o,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:d,[`${t}-tree-node--pending`]:b,[`${t}-tree-node--disabled`]:m,[`${t}-tree-node--selectable`]:i,[`${t}-tree-node--clickable`]:i||a||this.mergedCheckOnClick},v==null?void 0:v.class],"data-key":T,draggable:s&&u,onClick:this.handleLineClick,onDragstart:s&&u&&!m?this.handleDragStart:void 0}),g,e.isLeaf&&this.showLine?O("div",{class:[`${t}-tree-node-indent`,`${t}-tree-node-indent--show-line`,e.isLeaf&&`${t}-tree-node-indent--is-leaf`,e.isLastChild&&`${t}-tree-node-indent--last-child`]},O("div",{style:{width:`${c}px`}})):O(Po,{clsPrefix:t,expanded:this.expanded,selected:o,loading:this.loading,hide:e.isLeaf,tmNode:this.tmNode,indent:c,onClick:this.handleSwitcherClick}),E?null:q,O(_o,{ref:"contentInstRef",clsPrefix:t,checked:r,selected:o,onClick:this.handleContentClick,nodeProps:u?void 0:v,onDragstart:s&&!u&&!m?this.handleDragStart:void 0,tmNode:e}),s?this.showDropMark?hn({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:c}):this.showDropMarkAsParent?hn({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:c}):null:null,E?q:null))}}),Ho=z({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return O(Cn,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>O("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Fn(this.height)}},this.nodes.map(t=>O(En,{clsPrefix:e,tmNode:t})))})}}),Nt=Kl(),qo=j("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[Z("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),Z(">",[j("tree-node",[Z("&:first-child","margin-top: 0;")])]),j("tree-motion-wrapper",[K("expand",[en({duration:"0.2s"})]),K("collapse",[en({duration:"0.2s",reverse:!0})])]),j("tree-node-wrapper",`
 box-sizing: border-box;
 padding: var(--n-node-wrapper-padding);
 `),j("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[K("highlight",[j("tree-node-content",[le("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),K("disabled",[j("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ne("disabled",[K("clickable",[j("tree-node-content",`
 cursor: pointer;
 `)])])]),K("block-node",[j("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),Ne("block-line",[j("tree-node",[Ne("disabled",[j("tree-node-content",[Z("&:hover","background: var(--n-node-color-hover);")]),K("selectable",[j("tree-node-content",[Z("&:active","background: var(--n-node-color-pressed);")])]),K("pending",[j("tree-node-content",`
 background: var(--n-node-color-hover);
 `)]),K("selected",[j("tree-node-content","background: var(--n-node-color-active);")])]),K("selected",[j("tree-node-content","background: var(--n-node-color-active);")])])]),K("block-line",[j("tree-node",[Ne("disabled",[Z("&:hover","background: var(--n-node-color-hover);"),K("pending",`
 background: var(--n-node-color-hover);
 `),K("selectable",[Ne("selected",[Z("&:active","background: var(--n-node-color-pressed);")])]),K("selected","background: var(--n-node-color-active);")]),K("selected","background: var(--n-node-color-active);"),K("disabled",`
 cursor: not-allowed;
 `)])]),j("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 `,[K("show-line","position: relative",[Z("&::before",`
 position: absolute;
 left: 50%;
 border-left: 1px solid var(--n-line-color);
 transition: border-color .3s var(--n-bezier);
 transform: translate(-50%);
 content: "";
 top: var(--n-line-offset-top);
 bottom: var(--n-line-offset-bottom);
 `),K("last-child",[Z("&::before",`
 bottom: 50%;
 `)]),K("is-leaf",[Z("&::after",`
 position: absolute;
 content: "";
 left: calc(50% + 0.5px);
 right: 0;
 bottom: 50%;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-line-color);
 `)])]),Ne("show-line","height: 0;")]),j("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: var(--n-node-content-height);
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[le("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[j("icon",[Nt]),j("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Nt]),j("base-icon",[Nt])]),K("hide","visibility: hidden;"),K("expanded","transform: rotate(90deg);")]),j("tree-node-checkbox",`
 display: inline-flex;
 height: var(--n-node-content-height);
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 `),j("tree-node-content",`
 user-select: none;
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: var(--n-node-content-height);
 box-sizing: border-box;
 line-height: var(--n-line-height);
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Z("&:last-child","margin-bottom: 0;"),le("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),le("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),le("suffix",`
 display: inline-flex;
 `)]),le("empty","margin: auto;")]);var Vo=function(e,t,n,a){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function d(c){try{u(a.next(c))}catch(g){r(g)}}function s(c){try{u(a.throw(c))}catch(g){r(g)}}function u(c){c.done?o(c.value):i(c.value).then(d,s)}u((a=a.apply(e,[])).next())})};function vn(e,t,n,a){return{getIsGroup(){return!1},getKey(o){return o[e]},getChildren:a||(o=>o[t]),getDisabled(o){return!!(o[n]||o.checkboxDisabled)}}}const Wo={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},Uo=Object.assign(Object.assign(Object.assign(Object.assign({},$e.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,indent:{type:Number,default:24},allowDrop:{type:Function,default:Ao},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Wo),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Xo=z({name:"Tree",props:Uo,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:a}=at(e),i=_t("Tree",a,t),o=$e("Tree","-tree",qo,ql,e,t),r=C(null),d=C(null),s=C(null);function u(){var f;return(f=s.value)===null||f===void 0?void 0:f.listElRef}function c(){var f;return(f=s.value)===null||f===void 0?void 0:f.itemsElRef}const g=N(()=>{const{filter:f}=e;if(f)return f;const{labelField:k}=e;return(B,_)=>{if(!B.length)return!0;const P=_[k];return typeof P=="string"?P.toLowerCase().includes(B.toLowerCase()):!1}}),m=N(()=>{const{pattern:f}=e;return f?!f.length||!g.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Ko(e.data,g.value,f,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),b=N(()=>nn(e.showIrrelevantNodes?e.data:m.value.filteredTree,vn(e.keyField,e.childrenField,e.disabledField,e.getChildren))),h=ze(An,null),v=e.internalTreeSelect?h.dataTreeMate:N(()=>e.showIrrelevantNodes?b.value:nn(e.data,vn(e.keyField,e.childrenField,e.disabledField,e.getChildren))),{watchProps:w}=e,x=C([]);w!=null&&w.includes("defaultCheckedKeys")?Ye(()=>{x.value=e.defaultCheckedKeys}):x.value=e.defaultCheckedKeys;const T=te(e,"checkedKeys"),E=nt(T,x),q=N(()=>v.value.getCheckedKeys(E.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),Y=jo(e),y=N(()=>q.value.checkedKeys),F=N(()=>{const{indeterminateKeys:f}=e;return f!==void 0?f:q.value.indeterminateKeys}),R=C([]);w!=null&&w.includes("defaultSelectedKeys")?Ye(()=>{R.value=e.defaultSelectedKeys}):R.value=e.defaultSelectedKeys;const $=te(e,"selectedKeys"),L=nt($,R),G=C([]),re=f=>{G.value=e.defaultExpandAll?v.value.getNonLeafKeys():f===void 0?e.defaultExpandedKeys:f};w!=null&&w.includes("defaultExpandedKeys")?Ye(()=>{re(void 0)}):Ye(()=>{re(e.defaultExpandedKeys)});const p=te(e,"expandedKeys"),D=nt(p,G),I=N(()=>b.value.getFlattenedNodes(D.value)),{pendingNodeKeyRef:M,handleKeydown:V}=Io({props:e,mergedCheckedKeysRef:E,mergedSelectedKeysRef:L,fNodesRef:I,mergedExpandedKeysRef:D,handleCheck:zt,handleSelect:Mt,handleSwitcherClick:Vt});let U=null,ae=null;const ce=C(new Set),ge=N(()=>e.internalHighlightKeySet||m.value.highlightKeySet),ye=nt(ge,ce),A=C(new Set),Q=N(()=>D.value.filter(f=>!A.value.has(f)));let X=0;const se=C(null),fe=C(null),Ae=C(null),ut=C(null),ct=C(0),Hn=N(()=>{const{value:f}=fe;return f?f.parent:null});let kt=!1;De(te(e,"data"),()=>{kt=!0,Oe(()=>{kt=!1}),A.value.clear(),M.value=null,et()},{deep:!1});let Ct=!1;const St=()=>{Ct=!0,Oe(()=>{Ct=!1})};let Je;De(te(e,"pattern"),(f,k)=>{if(e.showIrrelevantNodes)if(Je=void 0,f){const{expandedKeys:B,highlightKeySet:_}=Lo(e.data,e.pattern,e.keyField,e.childrenField,g.value);ce.value=_,St(),je(B,xe(B),{node:null,action:"filter"})}else ce.value=new Set;else if(!f.length)Je!==void 0&&(St(),je(Je,xe(Je),{node:null,action:"filter"}));else{k.length||(Je=D.value);const{expandedKeys:B}=m.value;B!==void 0&&(St(),je(B,xe(B),{node:null,action:"filter"}))}});function Ht(f){return Vo(this,void 0,void 0,function*(){const{onLoad:k}=e;if(!k){yield Promise.resolve();return}const{value:B}=A;if(!B.has(f.key)){B.add(f.key);try{(yield k(f.rawNode))===!1&&Le()}catch(_){console.error(_),Le()}B.delete(f.key)}})}Ye(()=>{var f;const{value:k}=b;if(!k)return;const{getNode:B}=k;(f=D.value)===null||f===void 0||f.forEach(_=>{const P=B(_);P&&!P.shallowLoaded&&Ht(P)})});const Pe=C(!1),Be=C([]);De(Q,(f,k)=>{if(!e.animated||Ct){Oe(ft);return}if(kt)return;const B=tt(o.value.self.nodeHeight),_=new Set(k);let P=null,de=null;for(const oe of f)if(!_.has(oe)){if(P!==null)return;P=oe}const we=new Set(f);for(const oe of k)if(!we.has(oe)){if(de!==null)return;de=oe}if(P===null&&de===null)return;const{virtualScroll:be}=e,He=(be?s.value.listElRef:r.value).offsetHeight,qe=Math.ceil(He/B)+1;let Ce;if(P!==null&&(Ce=k),de!==null&&(Ce===void 0?Ce=f:Ce=Ce.filter(oe=>oe!==de)),Pe.value=!0,Be.value=b.value.getFlattenedNodes(Ce),P!==null){const oe=Be.value.findIndex(Se=>Se.key===P);if(~oe){const Se=Be.value[oe].children;if(Se){const Me=ln(Se,f);Be.value.splice(oe+1,0,{__motion:!0,mode:"expand",height:be?Me.length*B:void 0,nodes:be?Me.slice(0,qe):Me})}}}if(de!==null){const oe=Be.value.findIndex(Se=>Se.key===de);if(~oe){const Se=Be.value[oe].children;if(!Se)return;Pe.value=!0;const Me=ln(Se,f);Be.value.splice(oe+1,0,{__motion:!0,mode:"collapse",height:be?Me.length*B:void 0,nodes:be?Me.slice(0,qe):Me})}}});const qn=N(()=>Vl(I.value)),Vn=N(()=>Pe.value?Be.value:I.value);function ft(){const{value:f}=d;f&&f.sync()}function Wn(){Pe.value=!1,e.virtualScroll&&Oe(ft)}function xe(f){const{getNode:k}=v.value;return f.map(B=>{var _;return((_=k(B))===null||_===void 0?void 0:_.rawNode)||null})}function je(f,k,B){const{"onUpdate:expandedKeys":_,onUpdateExpandedKeys:P}=e;G.value=f,_&&he(_,f,k,B),P&&he(P,f,k,B)}function qt(f,k,B){const{"onUpdate:checkedKeys":_,onUpdateCheckedKeys:P}=e;x.value=f,P&&he(P,f,k,B),_&&he(_,f,k,B)}function Un(f,k){const{"onUpdate:indeterminateKeys":B,onUpdateIndeterminateKeys:_}=e;B&&he(B,f,k),_&&he(_,f,k)}function Dt(f,k,B){const{"onUpdate:selectedKeys":_,onUpdateSelectedKeys:P}=e;R.value=f,P&&he(P,f,k,B),_&&he(_,f,k,B)}function Xn(f){const{onDragenter:k}=e;k&&he(k,f)}function Yn(f){const{onDragleave:k}=e;k&&he(k,f)}function Gn(f){const{onDragend:k}=e;k&&he(k,f)}function Zn(f){const{onDragstart:k}=e;k&&he(k,f)}function Qn(f){const{onDragover:k}=e;k&&he(k,f)}function Jn(f){const{onDrop:k}=e;k&&he(k,f)}function et(){el(),Ie()}function el(){se.value=null}function Ie(){ct.value=0,fe.value=null,Ae.value=null,ut.value=null,Le()}function Le(){U&&(window.clearTimeout(U),U=null),ae=null}function zt(f,k){if(e.disabled||Te(f,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){Mt(f);return}const B=k?"check":"uncheck",{checkedKeys:_,indeterminateKeys:P}=v.value[B](f.key,y.value,{cascade:e.cascade,checkStrategy:Y.value,allowNotLoaded:e.allowCheckingNotLoaded});qt(_,xe(_),{node:f.rawNode,action:B}),Un(P,xe(P))}function tl(f){if(e.disabled)return;const{key:k}=f,{value:B}=D,_=B.findIndex(P=>P===k);if(~_){const P=Array.from(B);P.splice(_,1),je(P,xe(P),{node:f.rawNode,action:"collapse"})}else{const P=b.value.getNode(k);if(!P||P.isLeaf)return;let de;if(e.accordion){const we=new Set(f.siblings.map(({key:be})=>be));de=B.filter(be=>!we.has(be)),de.push(k)}else de=B.concat(k);je(de,xe(de),{node:f.rawNode,action:"expand"})}}function Vt(f){e.disabled||Pe.value||tl(f)}function Mt(f){if(!(e.disabled||!e.selectable)){if(M.value=f.key,e.internalUnifySelectCheck){const{value:{checkedKeys:k,indeterminateKeys:B}}=q;e.multiple?zt(f,!(k.includes(f.key)||B.includes(f.key))):qt([f.key],xe([f.key]),{node:f.rawNode,action:"check"})}if(e.multiple){const k=Array.from(L.value),B=k.findIndex(_=>_===f.key);~B?e.cancelable&&k.splice(B,1):~B||k.push(f.key),Dt(k,xe(k),{node:f.rawNode,action:~B?"unselect":"select"})}else L.value.includes(f.key)?e.cancelable&&Dt([],[],{node:f.rawNode,action:"unselect"}):Dt([f.key],xe([f.key]),{node:f.rawNode,action:"select"})}}function nl(f){if(U&&(window.clearTimeout(U),U=null),f.isLeaf)return;ae=f.key;const k=()=>{if(ae!==f.key)return;const{value:B}=Ae;if(B&&B.key===f.key&&!D.value.includes(f.key)){const _=D.value.concat(f.key);je(_,xe(_),{node:f.rawNode,action:"expand"})}U=null,ae=null};f.shallowLoaded?U=window.setTimeout(()=>{k()},1e3):U=window.setTimeout(()=>{Ht(f).then(()=>{k()})},1e3)}function ll({event:f,node:k}){!e.draggable||e.disabled||Te(k,e.disabledField)||(Wt({event:f,node:k},!1),Xn({event:f,node:k.rawNode}))}function ol({event:f,node:k}){!e.draggable||e.disabled||Te(k,e.disabledField)||Yn({event:f,node:k.rawNode})}function rl(f){f.target===f.currentTarget&&Ie()}function al({event:f,node:k}){et(),!(!e.draggable||e.disabled||Te(k,e.disabledField))&&Gn({event:f,node:k.rawNode})}function il({event:f,node:k}){!e.draggable||e.disabled||Te(k,e.disabledField)||(X=f.clientX,se.value=k,Zn({event:f,node:k.rawNode}))}function Wt({event:f,node:k},B=!0){var _;if(!e.draggable||e.disabled||Te(k,e.disabledField))return;const{value:P}=se;if(!P)return;const{allowDrop:de,indent:we}=e;B&&Qn({event:f,node:k.rawNode});const be=f.currentTarget,{height:He,top:qe}=be.getBoundingClientRect(),Ce=f.clientY-qe;let oe;de({node:k.rawNode,dropPosition:"inside",phase:"drag"})?Ce<=8?oe="before":Ce>=He-8?oe="after":oe="inside":Ce<=He/2?oe="before":oe="after";const{value:Me}=qn;let ne,ve;const Ve=Me(k.key);if(Ve===null){Ie();return}let ht=!1;oe==="inside"?(ne=k,ve="inside"):oe==="before"?k.isFirstChild?(ne=k,ve="before"):(ne=I.value[Ve-1],ve="after"):(ne=k,ve="after"),!ne.isLeaf&&D.value.includes(ne.key)&&(ht=!0,ve==="after"&&(ne=I.value[Ve+1],ne?ve="before":(ne=k,ve="inside")));const Xt=ne;if(Ae.value=Xt,!ht&&P.isLastChild&&P.key===ne.key&&(ve="after"),ve==="after"){let Yt=X-f.clientX,Ft=0;for(;Yt>=we/2&&ne.parent!==null&&ne.isLastChild&&Ft<1;)Yt-=we,Ft+=1,ne=ne.parent;ct.value=Ft}else ct.value=0;if((P.contains(ne)||ve==="inside"&&((_=P.parent)===null||_===void 0?void 0:_.key)===ne.key)&&!(P.key===Xt.key&&P.key===ne.key)){Ie();return}if(!de({node:ne.rawNode,dropPosition:ve,phase:"drag"})){Ie();return}if(P.key===ne.key)Le();else if(ae!==ne.key)if(ve==="inside"){if(e.expandOnDragenter){if(nl(ne),!ne.shallowLoaded&&ae!==ne.key){et();return}}else if(!ne.shallowLoaded){et();return}}else Le();else ve!=="inside"&&Le();ut.value=ve,fe.value=ne}function sl({event:f,node:k,dropPosition:B}){if(!e.draggable||e.disabled||Te(k,e.disabledField))return;const{value:_}=se,{value:P}=fe,{value:de}=ut;if(!(!_||!P||!de)&&e.allowDrop({node:P.rawNode,dropPosition:de,phase:"drag"})&&_.key!==P.key){if(de==="before"){const we=_.getNext({includeDisabled:!0});if(we&&we.key===P.key){Ie();return}}if(de==="after"){const we=_.getPrev({includeDisabled:!0});if(we&&we.key===P.key){Ie();return}}Jn({event:f,node:P.rawNode,dragNode:_.rawNode,dropPosition:B}),et()}}function dl(){ft()}function ul(){ft()}function cl(f){var k;if(e.virtualScroll||e.internalScrollable){const{value:B}=d;if(!((k=B==null?void 0:B.containerRef)===null||k===void 0)&&k.contains(f.relatedTarget))return;M.value=null}else{const{value:B}=r;if(B!=null&&B.contains(f.relatedTarget))return;M.value=null}}De(M,f=>{var k,B;if(f!==null){if(e.virtualScroll)(k=s.value)===null||k===void 0||k.scrollTo({key:f});else if(e.internalScrollable){const{value:_}=d;if(_===null)return;const P=(B=_.contentRef)===null||B===void 0?void 0:B.querySelector(`[data-key="${Rn(f)}"]`);if(!P)return;_.scrollTo({el:P})}}}),Ze(st,{loadingKeysRef:A,highlightKeySetRef:ye,displayedCheckedKeysRef:y,displayedIndeterminateKeysRef:F,mergedSelectedKeysRef:L,mergedExpandedKeysRef:D,mergedThemeRef:o,mergedCheckStrategyRef:Y,nodePropsRef:te(e,"nodeProps"),disabledRef:te(e,"disabled"),checkableRef:te(e,"checkable"),selectableRef:te(e,"selectable"),expandOnClickRef:te(e,"expandOnClick"),onLoadRef:te(e,"onLoad"),draggableRef:te(e,"draggable"),blockLineRef:te(e,"blockLine"),indentRef:te(e,"indent"),cascadeRef:te(e,"cascade"),checkOnClickRef:te(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ae,droppingNodeParentRef:Hn,draggingNodeRef:se,droppingPositionRef:ut,droppingOffsetLevelRef:ct,fNodesRef:I,pendingNodeKeyRef:M,showLineRef:te(e,"showLine"),disabledFieldRef:te(e,"disabledField"),internalScrollableRef:te(e,"internalScrollable"),internalCheckboxFocusableRef:te(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:te(e,"renderLabel"),renderPrefixRef:te(e,"renderPrefix"),renderSuffixRef:te(e,"renderSuffix"),renderSwitcherIconRef:te(e,"renderSwitcherIcon"),labelFieldRef:te(e,"labelField"),multipleRef:te(e,"multiple"),overrideDefaultNodeClickBehaviorRef:te(e,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:Vt,handleDragEnd:al,handleDragEnter:ll,handleDragLeave:ol,handleDragStart:il,handleDrop:sl,handleDragOver:Wt,handleSelect:Mt,handleCheck:zt});function fl(f,k){var B,_;typeof f=="number"?(B=s.value)===null||B===void 0||B.scrollTo(f,k||0):(_=s.value)===null||_===void 0||_.scrollTo(f)}const hl={handleKeydown:V,scrollTo:fl,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:f}=q.value;return{keys:f,options:xe(f)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:f}=q.value;return{keys:f,options:xe(f)}}},Ut=N(()=>{const{common:{cubicBezierEaseInOut:f},self:{fontSize:k,nodeBorderRadius:B,nodeColorHover:_,nodeColorPressed:P,nodeColorActive:de,arrowColor:we,loadingColor:be,nodeTextColor:He,nodeTextColorDisabled:qe,dropMarkColor:Ce,nodeWrapperPadding:oe,nodeHeight:Se,lineHeight:Me,lineColor:ne}}=o.value,ve=Bt(oe,"top"),Ve=Bt(oe,"bottom"),ht=Fn(tt(Se)-tt(ve)-tt(Ve));return{"--n-arrow-color":we,"--n-loading-color":be,"--n-bezier":f,"--n-font-size":k,"--n-node-border-radius":B,"--n-node-color-active":de,"--n-node-color-hover":_,"--n-node-color-pressed":P,"--n-node-text-color":He,"--n-node-text-color-disabled":qe,"--n-drop-mark-color":Ce,"--n-node-wrapper-padding":oe,"--n-line-offset-top":`-${ve}`,"--n-line-offset-bottom":`-${Ve}`,"--n-node-content-height":ht,"--n-line-height":Me,"--n-line-color":ne}}),Ke=n?wt("tree",void 0,Ut,e):void 0;return Object.assign(Object.assign({},hl),{mergedClsPrefix:t,mergedTheme:o,rtlEnabled:i,fNodes:Vn,aip:Pe,selfElRef:r,virtualListInstRef:s,scrollbarInstRef:d,handleFocusout:cl,handleDragLeaveTree:rl,handleScroll:dl,getScrollContainer:u,getScrollContent:c,handleAfterEnter:Wn,handleResize:ul,cssVars:n?void 0:Ut,themeClass:Ke==null?void 0:Ke.themeClass,onRender:Ke==null?void 0:Ke.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:a,blockNode:i,blockLine:o,draggable:r,disabled:d,internalFocusable:s,checkable:u,handleKeydown:c,rtlEnabled:g,handleFocusout:m,scrollbarProps:b}=this,h=s&&!d,v=h?"0":void 0,w=[`${a}-tree`,g&&`${a}-tree--rtl`,u&&`${a}-tree--checkable`,(o||i)&&`${a}-tree--block-node`,o&&`${a}-tree--block-line`],x=E=>"__motion"in E?O(Ho,{height:E.height,nodes:E.nodes,clsPrefix:a,mode:E.mode,onAfterEnter:this.handleAfterEnter}):O(En,{key:E.key,tmNode:E,clsPrefix:a});if(this.virtualScroll){const{mergedTheme:E,internalScrollablePadding:q}=this,Y=Bt(q||"0");return O(tn,Object.assign({},b,{ref:"scrollbarInstRef",onDragleave:r?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:w,theme:E.peers.Scrollbar,themeOverrides:E.peerOverrides.Scrollbar,tabindex:v,onKeydown:h?c:void 0,onFocusout:h?m:void 0}),{default:()=>{var y;return(y=this.onRender)===null||y===void 0||y.call(this),t.length?O(Hl,{ref:"virtualListInstRef",items:this.fNodes,itemSize:tt(E.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:Y.top,paddingBottom:Y.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:Y.left,paddingRight:Y.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:F})=>x(F)}):It(this.$slots.empty,()=>[O(on,{class:`${a}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:T}=this;return w.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),T?O(tn,Object.assign({},b,{class:w,tabindex:v,onKeydown:h?c:void 0,onFocusout:h?m:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>O("div",{onDragleave:r?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(x))}):O("div",{class:w,tabindex:v,ref:"selfElRef",style:this.cssVars,onKeydown:h?c:void 0,onFocusout:h?m:void 0,onDragleave:r?this.handleDragLeaveTree:void 0},t.length?t.map(x):It(this.$slots.empty,()=>[O(on,{class:`${a}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Yo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Go=z({name:"Archive",render:function(t,n){return H(),W("svg",Yo,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("rect",{x:"3",y:"4",width:"18",height:"4",rx:"2"}),S("path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8"}),S("path",{d:"M10 12h4"})],-1)]))}}),Zo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qo=z({name:"ChevronUp",render:function(t,n){return H(),W("svg",Zo,n[0]||(n[0]=[S("path",{d:"M6 15l6-6l6 6",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),Jo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},er=z({name:"Clock",render:function(t,n){return H(),W("svg",Jo,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("circle",{cx:"12",cy:"12",r:"9"}),S("path",{d:"M12 7v5l3 3"})],-1)]))}}),tr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nr=z({name:"Dots",render:function(t,n){return H(),W("svg",tr,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("circle",{cx:"5",cy:"12",r:"1"}),S("circle",{cx:"12",cy:"12",r:"1"}),S("circle",{cx:"19",cy:"12",r:"1"})],-1)]))}}),lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Lt=z({name:"File",render:function(t,n){return H(),W("svg",lr,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),S("path",{d:"M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"})],-1)]))}}),or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_n=z({name:"FileText",render:function(t,n){return H(),W("svg",or,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path><path d="M9 9h1"></path><path d="M9 13h6"></path><path d="M9 17h6"></path></g>',1)]))}}),rr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Kt=z({name:"Folder",render:function(t,n){return H(),W("svg",rr,n[0]||(n[0]=[S("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ir=z({name:"Home",render:function(t,n){return H(),W("svg",ar,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M5 12H3l9-9l9 9h-2"}),S("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"}),S("path",{d:"M9 21v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v6"})],-1)]))}}),sr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Pn=z({name:"Music",render:function(t,n){return H(),W("svg",sr,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="6" cy="17" r="3"></circle><circle cx="16" cy="17" r="3"></circle><path d="M9 17V4h10v13"></path><path d="M9 8h10"></path></g>',1)]))}}),dr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},jn=z({name:"Photo",render:function(t,n){return H(),W("svg",dr,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 8h.01"></path><rect x="4" y="4" width="16" height="16" rx="3"></rect><path d="M4 15l4-4a3 5 0 0 1 3 0l5 5"></path><path d="M14 14l1-1a3 5 0 0 1 3 0l2 2"></path></g>',1)]))}}),ur={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},cr=z({name:"Plus",render:function(t,n){return H(),W("svg",ur,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M12 5v14"}),S("path",{d:"M5 12h14"})],-1)]))}}),fr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},hr=z({name:"Rocket",render:function(t,n){return H(),W("svg",fr,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3-5a9 9 0 0 0 6-8a3 3 0 0 0-3-3a9 9 0 0 0-8 6a6 6 0 0 0-5 3"}),S("path",{d:"M7 14a6 6 0 0 0-3 6a6 6 0 0 0 6-3"}),S("circle",{cx:"15",cy:"9",r:"1"})],-1)]))}}),vr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$t=z({name:"Search",render:function(t,n){return H(),W("svg",vr,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("circle",{cx:"10",cy:"10",r:"7"}),S("path",{d:"M21 21l-6-6"})],-1)]))}}),gr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},gn=z({name:"SortAscending",render:function(t,n){return H(),W("svg",gr,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 6h7"></path><path d="M4 12h7"></path><path d="M4 18h9"></path><path d="M15 9l3-3l3 3"></path><path d="M18 6v12"></path></g>',1)]))}}),mr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},mn=z({name:"SortDescending",render:function(t,n){return H(),W("svg",mr,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 6h9"></path><path d="M4 12h7"></path><path d="M4 18h7"></path><path d="M15 15l3 3l3-3"></path><path d="M18 6v12"></path></g>',1)]))}}),pr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},yr=z({name:"Star",render:function(t,n){return H(),W("svg",pr,n[0]||(n[0]=[S("path",{d:"M12 17.75l-6.172 3.245l1.179-6.873l-5-4.867l6.9-1l3.086-6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),wr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},xr=z({name:"Trash",render:function(t,n){return H(),W("svg",wr,n[0]||(n[0]=[Fe('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7h16"></path><path d="M10 11v6"></path><path d="M14 11v6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"></path><path d="M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"></path></g>',1)]))}}),br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},kr=z({name:"Upload",render:function(t,n){return H(),W("svg",br,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}),S("path",{d:"M7 9l5-5l5 5"}),S("path",{d:"M12 4v12"})],-1)]))}}),Cr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ln=z({name:"Video",render:function(t,n){return H(),W("svg",Cr,n[0]||(n[0]=[S("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M15 10l4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14v-4z"}),S("rect",{x:"3",y:"6",width:"12",height:"12",rx:"2"})],-1)]))}}),Sr=z({name:"DrawerExample",setup(){const e=vl(),t=C({name:"",email:""}),n=()=>{e.open({title:"",content:"",width:500})},a=async()=>{const g=await e.confirm({title:"",content:"",onConfirm:async()=>{await new Promise(m=>setTimeout(m,1e3)),console.log("")}});console.log(":",g.state.visible.value)},i=async()=>{const g=await e.confirm({title:"",content:()=>l(ao,{model:t.value},{default:()=>[l(sn,{label:"",path:"name"},{default:()=>[l(rt,{value:t.value.name,"onUpdate:value":m=>t.value.name=m,placeholder:""},null)]}),l(sn,{label:"",path:"email"},{default:()=>[l(rt,{value:t.value.email,"onUpdate:value":m=>t.value.email=m,placeholder:""},null)]})]}),width:600,onConfirm:async()=>{g.setLoading(!0);try{await new Promise(m=>setTimeout(m,2e3)),console.log(":",t.value)}finally{g.setLoading(!1)}}})},o=async()=>{await e.open({title:"",content:()=>l("div",null,[l("p",null,[ee("")]),l(ie,{onClick:r},{default:()=>[ee("")]})]),width:500})},r=async()=>{await e.open({title:"",content:()=>l("div",null,[l("p",null,[ee("")]),l(ie,{onClick:d},{default:()=>[ee("")]})]),width:450,placement:"right"})},d=()=>{e.info({title:"",content:"",width:400})},s=()=>{e.open({title:"",content:"",showFooter:!0,customButtons:[{text:"",type:"default",onClick:async()=>{console.log("")}},{text:"",type:"info",onClick:async()=>{console.log("")}}],confirmButton:{text:"",type:"primary"},cancelButton:{text:"",type:"default"}})},u=async()=>{const g=await e.confirm({title:"",content:"",onConfirm:async()=>{await new Promise(m=>setTimeout(m,2e3))}});De(g.state.visible,m=>{console.log(":",m)}),De(g.state.loading,m=>{console.log(":",m)})},c=()=>{console.log(":",e.getCount()),console.log(":",e.getInstances()),console.log(":",e.getTopInstance())};return()=>l("div",{style:{padding:"20px"}},[l(Ge,{vertical:!0,size:"large"},{default:()=>[l("h2",null,[ee("useDrawer ")]),l(Ge,null,{default:()=>[l(ie,{onClick:n},{default:()=>[ee("")]}),l(ie,{onClick:a},{default:()=>[ee("")]}),l(ie,{onClick:i},{default:()=>[ee("")]})]}),l(Ge,null,{default:()=>[l(ie,{onClick:o},{default:()=>[ee("")]}),l(ie,{onClick:s},{default:()=>[ee("")]}),l(ie,{onClick:u},{default:()=>[ee("")]})]}),l(Ge,null,{default:()=>[l(ie,{onClick:c},{default:()=>[ee("")]}),l(ie,{onClick:()=>e.closeTop()},{default:()=>[ee("")]}),l(ie,{onClick:()=>e.closeAll()},{default:()=>[ee("")]})]})]})])}}),Dr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},zr=z({name:"ArrowDownOutline",render:function(t,n){return H(),W("svg",Dr,n[0]||(n[0]=[S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 268l144 144l144-144"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 392V100"},null,-1)]))}}),Mr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Fr=z({name:"CheckmarkCircle",render:function(t,n){return H(),W("svg",Mr,n[0]||(n[0]=[S("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 0 1-12 5.71h-.27a16 16 0 0 1-11.89-5.3l-57.6-64a16 16 0 1 1 23.78-21.4l45.29 50.32l122.59-145.91a16 16 0 0 1 24.5 20.58z",fill:"currentColor"},null,-1)]))}}),Or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Rr=z({name:"Close",render:function(t,n){return H(),W("svg",Or,n[0]||(n[0]=[S("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)]))}}),Br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Tr=z({name:"CloseCircle",render:function(t,n){return H(),W("svg",Br,n[0]||(n[0]=[S("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256z",fill:"currentColor"},null,-1)]))}}),Nr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$r=z({name:"CodeSlashOutline",render:function(t,n){return H(),W("svg",Nr,n[0]||(n[0]=[S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M160 368L32 256l128-112"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 368l128-112l-128-112"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M304 96l-96 320"},null,-1)]))}}),Ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ir=z({name:"Contract",render:function(t,n){return H(),W("svg",Ar,n[0]||(n[0]=[Fe('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M304 416V304h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M314.2 314.23L432 432"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 96v112H96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M197.8 197.77L80 80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M416 208H304V96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M314.23 197.8L432 80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M96 304h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M197.77 314.2L80 432"></path>',8)]))}}),Er={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Et=z({name:"CopyOutline",render:function(t,n){return H(),W("svg",Er,n[0]||(n[0]=[S("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),_r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},pn=z({name:"CreateOutline",render:function(t,n){return H(),W("svg",_r,n[0]||(n[0]=[S("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38z",fill:"currentColor"},null,-1),S("path",{d:"M399.34 90L218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z",fill:"currentColor"},null,-1)]))}}),Pr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jr=z({name:"CutOutline",render:function(t,n){return H(),W("svg",Pr,n[0]||(n[0]=[Fe('<circle cx="104" cy="152" r="56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="104" cy="360" r="56" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path d="M157 175l-11 15l37 15s3.46-6.42 7-10z" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="32"></path><path d="M154.17 334.43L460 162c-2.5-6.7-28-12-64-4c-29.12 6.47-121.16 29.05-159.16 56.05C205.85 236.06 227 272 192 298c-25.61 19-44.43 22.82-44.43 22.82z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path><path d="M344.47 278.24L295 306.67c14.23 6.74 65.54 33.27 117 36.33c14.92.89 30 .39 39-6z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path><circle cx="256" cy="240" r="32" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></circle>',6)]))}}),Lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kr=z({name:"DownloadOutline",render:function(t,n){return H(),W("svg",Lr,n[0]||(n[0]=[S("path",{d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 272l80 80l80-80"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 48v288"},null,-1)]))}}),Hr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qr=z({name:"EllipsisHorizontal",render:function(t,n){return H(),W("svg",Hr,n[0]||(n[0]=[S("circle",{cx:"256",cy:"256",r:"48",fill:"currentColor"},null,-1),S("circle",{cx:"416",cy:"256",r:"48",fill:"currentColor"},null,-1),S("circle",{cx:"96",cy:"256",r:"48",fill:"currentColor"},null,-1)]))}}),Vr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wr=z({name:"EllipsisHorizontalOutline",render:function(t,n){return H(),W("svg",Vr,n[0]||(n[0]=[S("circle",{cx:"256",cy:"256",r:"32",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),S("circle",{cx:"416",cy:"256",r:"32",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),S("circle",{cx:"96",cy:"256",r:"32",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)]))}}),Ur={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Xr=z({name:"Expand",render:function(t,n){return H(),W("svg",Ur,n[0]||(n[0]=[Fe('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8)]))}}),Yr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Gr=z({name:"FolderOutline",render:function(t,n){return H(),W("svg",Yr,n[0]||(n[0]=[S("path",{d:"M440 432H72a40 40 0 0 1-40-40V120a40 40 0 0 1 40-40h75.89a40 40 0 0 1 22.19 6.72l27.84 18.56a40 40 0 0 0 22.19 6.72H440a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M32 192h448"},null,-1)]))}}),Zr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Qr=z({name:"FunnelOutline",render:function(t,n){return H(),W("svg",Zr,n[0]||(n[0]=[S("path",{d:"M35.4 87.12l168.65 196.44A16.07 16.07 0 0 1 208 294v119.32a7.93 7.93 0 0 0 5.39 7.59l80.15 26.67A7.94 7.94 0 0 0 304 440V294a16.07 16.07 0 0 1 4-10.44L476.6 87.12A14 14 0 0 0 466 64H46.05A14 14 0 0 0 35.4 87.12z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),Jr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yn=z({name:"GridOutline",render:function(t,n){return H(),W("svg",Jr,n[0]||(n[0]=[S("rect",{x:"48",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("rect",{x:"288",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("rect",{x:"48",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("rect",{x:"288",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),ea={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ta=z({name:"GridSharp",render:function(t,n){return H(),W("svg",ea,n[0]||(n[0]=[S("path",{d:"M240 240H32V32h208z",fill:"currentColor"},null,-1),S("path",{d:"M480 240H272V32h208z",fill:"currentColor"},null,-1),S("path",{d:"M240 480H32V272h208z",fill:"currentColor"},null,-1),S("path",{d:"M480 480H272V272h208z",fill:"currentColor"},null,-1)]))}}),na={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},la=z({name:"InformationCircle",render:function(t,n){return H(),W("svg",na,n[0]||(n[0]=[S("path",{d:"M256 56C145.72 56 56 145.72 56 256s89.72 200 200 200s200-89.72 200-200S366.28 56 256 56zm0 82a26 26 0 1 1-26 26a26 26 0 0 1 26-26zm48 226h-88a16 16 0 0 1 0-32h28v-88h-16a16 16 0 0 1 0-32h32a16 16 0 0 1 16 16v104h28a16 16 0 0 1 0 32z",fill:"currentColor"},null,-1)]))}}),oa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ra=z({name:"InformationCircleOutline",render:function(t,n){return H(),W("svg",oa,n[0]||(n[0]=[S("path",{d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184s184-82.39 184-184S349.61 64 248 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M220 220h32v116"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M208 340h88"},null,-1),S("path",{d:"M248 130a26 26 0 1 0 26 26a26 26 0 0 0-26-26z",fill:"currentColor"},null,-1)]))}}),aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ia=z({name:"ListOutline",render:function(t,n){return H(),W("svg",aa,n[0]||(n[0]=[Fe('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 144h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 256h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368h288"></path><circle cx="80" cy="144" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="256" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="368" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',6)]))}}),sa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},At=z({name:"OpenOutline",render:function(t,n){return H(),W("svg",sa,n[0]||(n[0]=[S("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 64h112v112"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M224 288L440 72"},null,-1)]))}}),da={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ua=z({name:"ReorderFourOutline",render:function(t,n){return H(),W("svg",da,n[0]||(n[0]=[S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M96 304h320"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M96 208h320"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M96 112h320"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M96 400h320"},null,-1)]))}}),ca={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},fa=z({name:"ShareSocialOutline",render:function(t,n){return H(),W("svg",ca,n[0]||(n[0]=[Fe('<circle cx="128" cy="256" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="112" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="400" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M169.83 279.53l172.34 96.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M342.17 135.53l-172.34 96.94"></path>',5)]))}}),ha={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},va=z({name:"StarOutline",render:function(t,n){return H(),W("svg",ha,n[0]||(n[0]=[S("path",{d:"M480 208H308L256 48l-52 160H32l140 96l-54 160l138-100l138 100l-54-160z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),ga={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ma=z({name:"SwapHorizontalOutline",render:function(t,n){return H(),W("svg",ga,n[0]||(n[0]=[S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M304 48l112 112l-112 112"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M398.87 160H96"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M208 464L96 352l112-112"},null,-1),S("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M114 352h302"},null,-1)]))}}),pa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ya=z({name:"WarningOutline",render:function(t,n){return H(),W("svg",pa,n[0]||(n[0]=[S("path",{d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{d:"M250.26 195.39l5.74 122l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),S("path",{d:"M256 397.25a20 20 0 1 1 20-20a20 20 0 0 1-20 20z",fill:"currentColor"},null,-1)]))}});function wa({selectedIds:e,onSelect:t}){const n=[{key:"refresh",label:"",icon:At,shortcut:"F5",show:!0},{key:"new-folder",label:"",icon:pn,shortcut:"Ctrl+Shift+N",show:!0},{key:"paste",label:"",icon:Et,shortcut:"Ctrl+V",show:!0},{key:"sort",label:"",icon:Qr,show:!0,children:[{key:"sort-name",label:""},{key:"sort-size",label:""},{key:"sort-modified",label:""},{key:"sort-created",label:""}]}],a=N(()=>{const d=[{key:"open",label:"",icon:At,shortcut:"Enter",show:!0},{key:"open-with",label:"",icon:At,children:[{key:"open-default",label:""},{key:"open-text",label:""},{key:"open-code",label:""}],show:!0},{key:"divider-1",label:"",divider:!0},{key:"cut",label:"",icon:jr,shortcut:"Ctrl+X",show:e.value.size>0},{key:"copy",label:"",icon:Et,shortcut:"Ctrl+C",show:e.value.size>0},{key:"divider-2",label:"",divider:!0},{key:"rename",label:"",icon:pn,shortcut:"F2",show:e.value.size===1},{key:"delete",label:` ${e.value.size} `,icon:gl,danger:!0,shortcut:"Delete",show:e.value.size>0},{key:"divider-3",label:"",divider:!0},{key:"download",label:"",icon:Kr,show:e.value.size>0},{key:"share",label:"",icon:fa,show:e.value.size>0},{key:"favorite",label:"",icon:va,show:e.value.size===1},{key:"divider-4",label:"",divider:!0},{key:"properties",label:"",icon:ra,shortcut:"Alt+Enter",show:e.value.size===1}],s=[];for(let u=0;u<d.length;u++){const c=d[u];if(c.divider){const g=s.some(b=>b.show),m=d.slice(u+1).some(b=>b.show&&!b.divider);g&&m&&s.push(c)}else s.push(c)}return s}),i=C([]);return{options:i,handleContextMenuShow:d=>{const u=d.data.element.closest("[data-selectable-id]");if(u){const c=u.dataset.selectableId;e.value.has(c)||t([c]),i.value=a.value}else t([]),i.value=n},handleContextMenuHide:()=>{i.value=[]}}}const xa=z({name:"ContextMenu",props:{options:{type:Array,required:!0},triggerSelector:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["select","show","hide"],setup(e,{emit:t,slots:n}){const a=C(!1),i=C({x:0,y:0}),o=C(null),r=C(),d=N(()=>e.options.filter(h=>h.show!==!1).map(h=>{if(h.divider)return{type:"divider",key:h.key};const v={key:h.key,label:h.label,disabled:h.disabled,icon:h.icon?()=>l(J,{component:h.icon},null):void 0,props:{class:h.danger?"text-red-500":""}};return h.children&&h.children.length>0&&(v.children=h.children.map(w=>({key:w.key,label:w.label,disabled:w.disabled,icon:w.icon?()=>l(J,{component:w.icon},null):void 0}))),v})),s=N(()=>({position:"fixed",left:`${i.value.x}px`,top:`${i.value.y}px`,zIndex:9999})),u=async()=>{await Oe();const h=document.querySelector(".n-dropdown-menu");if(!h)return;const v=h.getBoundingClientRect(),w=window.innerWidth,x=window.innerHeight;let{x:T,y:E}=i.value;T+v.width>w&&(T=w-v.width-10),E+v.height>x&&(E=x-v.height-10),T<0&&(T=10),E<0&&(E=10),i.value={x:T,y:E}},c=h=>{if(e.disabled)return;h.preventDefault(),h.stopPropagation();const v=h.target;if(e.triggerSelector){const w=v.closest(e.triggerSelector);if(!w)return;o.value={id:w.dataset.selectableId,element:w,...Object.fromEntries(Object.entries(w.dataset))}}else o.value=null;i.value={x:h.clientX,y:h.clientY},a.value=!0,u(),t("show",{position:i.value,data:o.value})},g=h=>{t("select",h,o.value),m()},m=()=>{a.value=!1,o.value=null,t("hide")},b=h=>{if(!a.value)return;h.target.closest(".n-dropdown-menu")||m()};return gt(r,"contextmenu",c),gt(document,"click",b),gt(document,"contextmenu",h=>{var v;if(a.value){const w=h.target;(v=r.value)!=null&&v.contains(w)||m()}}),gt(document,"keydown",h=>{h.key==="Escape"&&a.value&&m()}),De(a,h=>{h&&u()}),()=>{var h;return l("div",{ref:r},[(h=n.default)==null?void 0:h.call(n),a.value&&l("div",{style:s.value},[l(ot,{show:a.value,options:d.value,placement:"bottom-start",onSelect:g,onClickoutside:m},{default:()=>[l("div",null,null)]})]),l("style",null,[`
          /*  */
          .context-menu-shortcut {
            margin-left: auto;
            padding-left: 32px;
            opacity: 0.6;
            font-size: 12px;
          }

          /*  */
          .n-dropdown-option.text-red-500 {
            color: var(--n-color-error, #d03050) !important;
          }

          .n-dropdown-option.text-red-500:hover {
            background-color: color-mix(in srgb, var(--n-color-error, #d03050) 10%, transparent) !important;
          }
        `])])}}}),ba="_dot_4eka7_32",Ee={"file-loading-overlay":"_file-loading-overlay_4eka7_10","file-loading-content":"_file-loading-content_4eka7_20","file-loading-dots":"_file-loading-dots_4eka7_27",dot:ba,"file-loading-tip":"_file-loading-tip_4eka7_47"},ka=z({name:"FileLoading",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:"..."}},setup(e){const t=pe();return()=>e.loading?l("div",{class:Ee["file-loading-overlay"],style:{backgroundColor:t.value.modalColor,backdropFilter:"blur(8px)"}},[l("div",{class:Ee["file-loading-content"]},[l("div",{class:Ee["file-loading-dots"]},[l("span",{class:Ee.dot,style:{backgroundColor:t.value.primaryColor}},null),l("span",{class:Ee.dot,style:{backgroundColor:t.value.primaryColor}},null),l("span",{class:Ee.dot,style:{backgroundColor:t.value.primaryColor}},null)]),e.tip&&l("div",{class:Ee["file-loading-tip"],style:{color:t.value.textColor2}},[e.tip])])]):null}});function xt(e){if(!e)return"-";const t=["B","KB","MB","GB","TB"];let n=e,a=0;for(;n>=1024&&a<t.length-1;)n/=1024,a++;return`${n.toFixed(1)} ${t[a]}`}function Ca(e){if(!e)return"-";const n=new Date().getTime()-e.getTime(),a=Math.floor(n/(1e3*60*60*24));return a===0?"":a===1?"":a<7?`${a}`:e.toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"})}const Sa=e=>{var n;if(e.type==="folder")return Kt;const t=(n=e.extension)==null?void 0:n.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(t||"")?jn:["mp4","avi","mov","mkv","webm"].includes(t||"")?Ln:["mp3","wav","ogg","flac"].includes(t||"")?Pn:["js","ts","jsx","tsx","py","java","cpp"].includes(t||"")?so:["txt","md","doc","docx"].includes(t||"")?_n:Lt},Da=e=>{var n;if(e.color)return e.color;if(e.type==="folder")return"#60a5fa";const t=(n=e.extension)==null?void 0:n.toLowerCase();return["jpg","jpeg","png","gif"].includes(t||"")?"#f59e0b":["mp4","avi","mov"].includes(t||"")?"#ec4899":["mp3","wav"].includes(t||"")?"#8b5cf6":["js","ts","jsx","tsx"].includes(t||"")?"#eab308":"#6b7280"},dt=z({name:"FileIcon",props:{item:{type:Object,required:!0},size:{type:Number,default:24},showThumbnail:{type:Boolean,default:!0}},setup(e){return()=>{const{item:t,size:n,showThumbnail:a}=e,i=Sa(t),o=Da(t)||"";return a&&typeof t.thumbnailUrl=="string"&&t.thumbnailUrl.trim()?l("div",{class:"rounded-lg overflow-hidden bg-gray-100",style:{width:`${n}px`,height:`${n}px`}},[l("img",{src:t.thumbnailUrl,alt:t.name,class:"h-full w-full object-cover",onError:r=>{const d=r.target;d.style.display="none"},draggable:!1},null)]):l("div",{class:"relative",style:{width:`${n}px`,height:`${n}px`}},[i?l(J,null,{default:()=>O(i,{style:{color:o,fontSize:n},strokeWidth:1.5})}):l("div",{style:{width:`${n}px`,height:`${n}px`},class:"rounded bg-gray-500"},null),t.type==="folder"&&l("div",{style:{background:o}},null)])}}}),za=z({name:"DropZone",props:{zoneId:{type:String,required:!0},targetPath:{type:String,required:!0},canDrop:{type:Boolean,default:!0},isOver:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},asFolderZone:{type:Boolean,default:!1},hint:{type:String,default:""},showUploadHint:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["dragEnter","dragLeave","drop"],setup(e,{emit:t,slots:n}){pe();const a=C(!1),i=C(!1),o=C(0),r=N(()=>!e.disabled&&e.canDrop&&(e.isOver||i.value)),d=N(()=>{const x=[];return e.disabled?x.push("opacity-50 cursor-not-allowed"):r.value?x.push("border-blue-500 bg-blue-50 dark:bg-blue-900/20","ring-2 ring-blue-500/30","scale-[1.02]"):e.isOver&&!e.canDrop?x.push("border-red-500 bg-red-50 dark:bg-red-900/20","ring-2 ring-red-500/30"):a.value?x.push("border-gray-400 dark:border-gray-500"):x.push("border-gray-300 dark:border-gray-600"),x}),s=N(()=>e.loading?null:r.value?ml:e.isOver&&!e.canDrop?pl:e.asFolderZone?yl:wl),u=N(()=>r.value?"text-blue-500":e.isOver&&!e.canDrop?"text-red-500":"text-gray-400 dark:text-gray-500"),c=N(()=>e.hint?e.hint:e.loading?"...":r.value?e.asFolderZone?"":"":e.isOver&&!e.canDrop?"":e.asFolderZone?"":""),g=x=>{x.preventDefault(),x.stopPropagation(),!e.disabled&&(o.value++,o.value===1&&(i.value=!0,t("dragEnter",e.zoneId)))},m=x=>{x.preventDefault(),x.stopPropagation(),!e.disabled&&x.dataTransfer&&(e.canDrop?x.dataTransfer.dropEffect=x.ctrlKey||x.metaKey?"copy":"move":x.dataTransfer.dropEffect="none")},b=x=>{x.preventDefault(),x.stopPropagation(),!e.disabled&&(o.value--,o.value===0&&(i.value=!1,t("dragLeave",e.zoneId)))},h=x=>{x.preventDefault(),x.stopPropagation(),!(e.disabled||!e.canDrop)&&(o.value=0,i.value=!1,t("drop",e.zoneId))};De(()=>e.isOver,x=>{x||(o.value=0,i.value=!1)});const v=()=>{a.value=!0},w=()=>{a.value=!1,i.value=!1,o.value=0};return Re(()=>{document.addEventListener("dragstart",v),document.addEventListener("dragend",w)}),it(()=>{document.removeEventListener("dragstart",v),document.removeEventListener("dragend",w)}),()=>{var T,E;const x={isActive:a.value,isDragOver:i.value,canAcceptDrop:r.value,disabled:e.disabled,loading:e.loading,hintText:c.value};return l("div",{class:["transition-all duration-200 ease-out",e.asFolderZone?"contents":"relative border-2 border-dashed p-8",!e.asFolderZone&&d.value],onDragenter:g,onDragover:m,onDragleave:b,onDrop:h},[e.asFolderZone?(T=n.default)==null?void 0:T.call(n,x):l("div",{class:"relative"},[l("div",{class:"flex flex-col items-center justify-center gap-4 text-center"},[l("div",{class:"relative"},[e.loading?l(fo,{size:48},null):s.value&&l(J,{component:s.value,size:48,class:u.value},null),l(lt,{enterActiveClass:"transition-all duration-300",leaveActiveClass:"transition-all duration-300",enterFromClass:"opacity-0 -translate-y-2",leaveToClass:"opacity-0 -translate-y-2"},{default:()=>[r.value&&l("div",{class:"absolute left-1/2 animate-bounce -bottom-8 -translate-x-1/2"},[l(J,{component:zr,size:20,class:"text-blue-500"},null)])]})]),l("div",{class:"space-y-1"},[l("p",{class:["text-sm font-medium transition-colors",r.value?"text-blue-600 dark:text-blue-400":e.isOver&&!e.canDrop?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"]},[c.value]),e.showUploadHint&&!e.isOver&&!e.loading&&l("p",{class:"text-xs text-gray-400 dark:text-gray-500"},[ee("")])]),(E=n.content)==null?void 0:E.call(n)]),l(lt,{enterActiveClass:"transition-opacity duration-200",leaveActiveClass:"transition-opacity duration-200",enterFromClass:"opacity-0",leaveToClass:"opacity-0"},{default:()=>[r.value&&l("div",{class:"pointer-events-none absolute inset-0 rounded-lg bg-blue-500/5 dark:bg-blue-500/10"},null)]}),l(lt,{enterActiveClass:"transition-opacity duration-200",leaveActiveClass:"transition-opacity duration-200",enterFromClass:"opacity-0",leaveToClass:"opacity-0"},{default:()=>[e.isOver&&!e.canDrop&&l("div",{class:"pointer-events-none absolute inset-0 rounded-lg bg-red-500/5 dark:bg-red-500/10"},null)]})])])}}}),bt=z({name:"FileDropZoneWrapper",props:{item:{type:Object,required:!0},zoneId:{type:String,required:!0},targetPath:{type:String,required:!0},disabled:{type:Boolean,default:!1},asFolderZone:{type:Boolean,default:!0},hint:{type:String,default:""}},setup(e,{slots:t}){const n=ze("FILE_DRAG_DROP");n.registerDropZone(e.zoneId,e.targetPath);const a=r=>{n.enterDropZone(e.zoneId,e.targetPath,e.item)},i=r=>{n.leaveDropZone(e.zoneId)},o=async r=>{await n.executeDrop(e.zoneId)};return it(()=>{n.unregisterDropZone(e.zoneId)}),()=>{var r,d;return l(za,{zoneId:e.zoneId,targetPath:e.targetPath,disabled:e.disabled,asFolderZone:e.asFolderZone,hint:e.hint,isOver:(r=n.getDropZoneState(e.zoneId))==null?void 0:r.isOver,onDragEnter:a,onDragLeave:i,onDrop:o,canDrop:(d=n.getDropZoneState(e.zoneId))==null?void 0:d.canDrop,key:e.zoneId},{default:s=>{var u;return(u=t.default)==null?void 0:u.call(t,s)}})}}}),Ma=z({name:"GridView",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0},gridSize:{type:String,required:!0}},setup(e){const t=pe(),n=ze("FILE_DRAG_DROP"),a={small:{icon:48,gap:8,itemWidth:70,padding:"4px 6px"},medium:{icon:64,gap:10,itemWidth:100,padding:"6px 8px"},large:{icon:96,gap:12,itemWidth:120,padding:"8px 10px"},"extra-large":{icon:128,gap:14,itemWidth:150,padding:"10px 12px"}},i=N(()=>e.items.filter(s=>e.selectedIds.value.has(s.id))),o=()=>a[e.gridSize],r=(s,u)=>{u||(s.currentTarget.style.backgroundColor=t.value.hoverColor)},d=(s,u)=>{u||(s.currentTarget.style.backgroundColor="transparent")};return()=>{const s=o();return l("div",{class:"grid p-4","data-selector":"content-viewer",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${s.itemWidth}px, 1fr))`,gap:`${s.gap}px`,alignItems:"start",backgroundColor:t.value.bodyColor}},[e.items.map(u=>{const c=e.selectedIds.value.has(u.id);return l(bt,{key:u.id,zoneId:u.id,targetPath:u.path,item:u},{default:()=>{var g,m;return[l("div",Qe({class:"flex-col inline-flex select-none items-center rounded-lg transition-all duration-200",style:{padding:s.padding,backgroundColor:c||(g=n.getDropZoneState(u.id))!=null&&g.isOver&&((m=n.getDropZoneState(u.id))!=null&&m.canDrop)?`${t.value.primaryColorHover}20`:"transparent"}},c?{"data-prevent-selection":"true"}:null,{onMouseenter:b=>r(b,c),onMouseleave:b=>d(b,c),"data-selectable-id":u.id,onClick:b=>e.onSelect([u.id],b),onDblclick:()=>e.onOpen(u),onDragstart:b=>n.startDrag(i.value,b),draggable:!0}),[l("div",{class:"mb-1"},[l(dt,{item:u,size:s.icon},null)]),l("div",{class:"break-words text-center",style:{fontSize:e.gridSize==="small"?"12px":"14px",lineHeight:"1.4",maxWidth:`${s.itemWidth-16}px`,wordBreak:"break-word",color:c?t.value.primaryColor:t.value.textColorBase}},[u.name])])]}})})])}}}),Fa=z({name:"TileView",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0}},setup(e){const t=pe(),n=ze("FILE_DRAG_DROP"),a=N(()=>e.items.filter(r=>e.selectedIds.value.has(r.id))),i=(r,d)=>{d||(r.currentTarget.style.backgroundColor=t.value.hoverColor)},o=(r,d)=>{d||(r.currentTarget.style.backgroundColor=t.value.cardColor)};return()=>l("div",{class:"grid box-border content-start gap-1 p-4","data-selector":"content-viewer",style:{gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",backgroundColor:t.value.bodyColor}},[e.items.map(r=>{const d=e.selectedIds.value.has(r.id);return l(bt,{key:r.id,zoneId:r.id,targetPath:r.path,item:r},{default:()=>{var s,u;return[l("div",Qe({key:r.id,"data-selectable-id":r.id,class:"h-auto select-none rounded-lg p-2 transition-colors duration-150",style:{backgroundColor:d||(s=n.getDropZoneState(r.id))!=null&&s.isOver&&((u=n.getDropZoneState(r.id))!=null&&u.canDrop)?`${t.value.primaryColorHover}20`:t.value.cardColor}},d?{"data-prevent-selection":"true"}:null,{onMouseenter:c=>i(c,d),onMouseleave:c=>o(c,d),onClick:c=>e.onSelect([r.id],c),onDblclick:()=>e.onOpen(r),onDragstart:c=>n.startDrag(a.value,c),draggable:!0}),[l("div",{class:"flex items-start gap-2"},[l(dt,{item:r,size:48},null),l("div",{class:"min-w-0 flex flex-col flex-1 justify-start gap-1"},[l(dn,{strong:!0,class:"truncate",style:{color:d?t.value.primaryColor:t.value.textColorBase}},{default:()=>[r.name]}),(r.type==="folder"||r.size)&&l(dn,{depth:3,class:"text-xs",style:{color:d?t.value.primaryColor:t.value.textColor3}},{default:()=>[r.type==="folder"?"":xt(r.size)]})])])])]}})})])}}),Oa=40;function yt(e,t,n){return Math.min(n??1/0,Math.max(t??Oa,e))}const Ra=z({name:"DetailView",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0},sortField:{type:String,required:!0},sortOrder:{type:String,required:!0},onSort:{type:Function,required:!0}},setup(e,{expose:t}){const n=pe(),a=C(null),i=C(null),o=C(null),r=C([{id:"name",label:"",width:300},{id:"modifiedAt",label:"",width:180},{id:"createdAt",label:"",width:180},{id:"type",label:"",width:120},{id:"size",label:"",width:120}]),d=C(null),s=C(null),u=C(null);N(()=>r.value.reduce((y,F)=>y+F.width,0));const c=y=>y?(y instanceof Date?y:new Date(y)).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",g=()=>e.sortOrder==="asc"?Qo:uo,m=(y,F)=>{y.stopPropagation(),y.preventDefault();const R=r.value.findIndex(D=>D.id===F),$=r.value[R];if(!$)return;const L=R+1,G=r.value[L]||null;d.value={columnId:F,startX:y.clientX,leftColumn:$,rightColumn:G,leftStartWidth:$.width,rightStartWidth:(G==null?void 0:G.width)||0,columnIndex:R,animationFrame:null};const re=D=>{d.value&&(d.value.animationFrame!==null&&cancelAnimationFrame(d.value.animationFrame),d.value.animationFrame=requestAnimationFrame(()=>{if(!d.value)return;const{startX:I,leftColumn:M,rightColumn:V,leftStartWidth:U,rightStartWidth:ae}=d.value,ce=D.clientX-I;if(V){const ge=M.minWidth,ye=M.maxWidth,A=V.minWidth,Q=V.maxWidth;let X=U+ce;X=yt(X,ge,ye);const se=X-U;let fe=ae-se;fe=yt(fe,A,Q);const Ae=ae-fe;Math.abs(Ae-se)>.5&&(X=U+Ae,X=yt(X,ge,ye)),M.width=Math.round(X),V.width=Math.round(fe)}else{let ge=U+ce;const ye=M.minWidth,A=M.maxWidth;ge=yt(ge,ye,A),M.width=Math.round(ge)}}))},p=()=>{var D;d.value&&((D=d.value)==null?void 0:D.animationFrame)!==null&&cancelAnimationFrame(d.value.animationFrame),d.value=null,document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.addEventListener("mousemove",re),document.addEventListener("mouseup",p),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},b=(y,F)=>{const R=r.value[F];if(s.value={id:R.id,index:F},y.dataTransfer){y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",R.id);const $=document.createElement("div");$.textContent=R.label,$.style.cssText=`
          position: absolute;
          top: -1000px;
          padding: 8px 16px;
          background: ${n.value.primaryColor};
          color: white;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
          box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        `,document.body.appendChild($),y.dataTransfer.setDragImage($,0,0),setTimeout(()=>document.body.removeChild($),0)}},h=(y,F)=>{if(y.preventDefault(),!s.value||s.value.index===F){u.value=null;return}const $=y.currentTarget.getBoundingClientRect(),L=y.clientX,G=$.left+$.width/2;(s.value.index<F?L>G:L<G)?u.value=F:u.value===F&&(u.value=null)},v=y=>{const F=y.relatedTarget;F&&F.tagName==="TH"||(u.value=null)},w=y=>{if(y.preventDefault(),!s.value||u.value===null)return;const F=s.value.index,R=u.value;if(F===R)return;const $=[...r.value],[L]=$.splice(F,1);$.splice(R,0,L),r.value=$,s.value=null,u.value=null},x=()=>{s.value=null,u.value=null},T=y=>{if(!s.value||u.value===null)return"translateX(0)";const F=s.value.index,R=u.value;if(y===F){let $=0;if(F<R)for(let L=F+1;L<=R;L++)$+=r.value[L].width;else for(let L=R;L<F;L++)$-=r.value[L].width;return`translateX(${$}px)`}return F<R&&y>F&&y<=R?`translateX(-${r.value[F].width}px)`:F>R&&y>=R&&y<F?`translateX(${r.value[F].width}px)`:"translateX(0)"},E=y=>s.value?y===s.value.index?100:10:1,q=(y,F)=>{var D,I;const R=g(),$=e.sortField===y.id,L=i.value===y.id,G=o.value===y.id,re=((D=s.value)==null?void 0:D.id)===y.id,p=((I=d.value)==null?void 0:I.columnId)===y.id;return l("th",{key:y.id,class:"relative select-none px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",style:{color:n.value.textColor2,backgroundColor:n.value.tableHeaderColor,cursor:re?"grabbing":"grab",opacity:re?.5:1,transform:T(F),transition:s.value?"transform 0.25s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.15s ease":"none",zIndex:E(F),borderBottom:`1px solid ${n.value.dividerColor}`,borderRight:u.value===F?`2px solid ${n.value.primaryColor}`:"none"},draggable:!0,onDragstart:M=>b(M,F),onDragover:M=>h(M,F),onDragleave:M=>v(M),onDrop:M=>w(M),onDragend:x,onMouseenter:()=>i.value=y.id,onMouseleave:()=>i.value=null,onClick:M=>{d.value||M.target.closest(".resize-handle")||e.onSort(y.id)}},[l("div",{class:"pointer-events-none flex items-center gap-1"},[l("span",null,[y.label]),l(J,{size:16,style:{color:$?n.value.primaryColor:n.value.textColor3,opacity:$||L?1:0,transition:"opacity 0.15s ease"}},{default:()=>[l(R,null,null)]})]),l("div",{class:"resize-handle absolute bottom-0 right-0 top-0 z-20 w-3 flex cursor-col-resize items-center justify-center",style:{marginRight:"-6px",pointerEvents:"auto"},onMousedown:M=>{M.stopPropagation(),m(M,y.id)},onMouseenter:()=>o.value=y.id,onMouseleave:()=>o.value=null,onClick:M=>{M.stopPropagation(),M.preventDefault()},onDragstart:M=>{M.preventDefault(),M.stopPropagation()},draggable:!1},[l("div",{class:"absolute inset-0",style:{cursor:"col-resize"}},null),l("div",{class:"pointer-events-none h-full w-0.5",style:{backgroundColor:p||G?n.value.primaryColor:n.value.dividerColor,opacity:G||p?1:.6,transform:G||p?"scaleY(1.2)":"scaleY(1)",transition:p?"none":"all 200ms ease-out",boxShadow:p||G?`0 0 6px ${n.value.primaryColor}80`:"none"}},null)])])},Y=(y,F,R)=>{var L;const $={color:R?n.value.primaryColor:n.value.textColor2};switch(F.id){case"name":return l("div",{class:"flex items-center gap-3 overflow-hidden"},[l(dt,{item:y,size:24,showThumbnail:!1},null),l("span",{class:"truncate text-sm",style:{color:R?n.value.primaryColor:n.value.textColorBase},title:y.name},[y.name])]);case"modifiedAt":return l("span",{class:"block truncate text-sm",style:$,title:c(y.modifiedAt)},[c(y.modifiedAt)]);case"type":const G=y.type==="folder"?"":((L=y.extension)==null?void 0:L.toUpperCase())||"";return l("span",{class:"block truncate text-sm",style:$,title:G},[G]);case"size":const re=y.type==="file"?xt(y.size):"-";return l("span",{class:"block truncate text-sm",style:$,title:re},[re]);case"createdAt":return l("span",{class:"block truncate text-sm",style:$,title:c(y.createdAt)},[c(y.createdAt)]);default:return null}};return it(()=>{var y;d.value&&((y=d.value)==null?void 0:y.animationFrame)!==null&&cancelAnimationFrame(d.value.animationFrame)}),()=>l("div",{class:"overflow-auto",style:{backgroundColor:n.value.bodyColor,overflowX:"auto"}},[l("table",{ref:a,class:"min-w-full",style:{borderCollapse:"separate",borderSpacing:0,tableLayout:"fixed",width:"100%"}},[l("colgroup",null,[r.value.map(y=>l("col",{key:y.id,style:{width:`${y.width}px`}},null))]),l("thead",{class:"sticky top-0 z-10"},[l("tr",null,[r.value.map((y,F)=>q(y,F))])]),l("tbody",{"data-selector":"content-viewer"},[e.items.map(y=>{const F=e.selectedIds.value.has(y.id);return l("tr",{key:y.id,"data-selectable-id":y.id,class:"cursor-pointer select-none transition-colors",style:{backgroundColor:F?`${n.value.primaryColorHover}20`:n.value.cardColor,borderBottom:`1px solid ${n.value.dividerColor}`},onMouseenter:R=>{F||(R.currentTarget.style.backgroundColor=n.value.hoverColor)},onMouseleave:R=>{F||(R.currentTarget.style.backgroundColor=n.value.cardColor)},onClick:R=>e.onSelect([y.id],R),onDblclick:()=>e.onOpen(y)},[r.value.map(R=>l("td",{key:R.id,class:"px-4 py-3"},[Y(y,R,F)]))])})])])])}}),Ba=z({name:"ListView",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0}},setup(e){const t=pe(),n=N(()=>e.items.filter(r=>e.selectedIds.value.has(r.id))),a=ze("FILE_DRAG_DROP"),i=(r,d)=>{d||(r.currentTarget.style.backgroundColor=t.value.hoverColor)},o=(r,d)=>{d||(r.currentTarget.style.backgroundColor="transparent")};return()=>l("div",{class:"flex flex-col","data-selector":"content-viewer",style:{backgroundColor:t.value.bodyColor}},[e.items.map(r=>{const d=e.selectedIds.value.has(r.id);return l(bt,{key:r.id,zoneId:r.id,targetPath:r.path,item:r},{default:()=>{var s,u;return[l("div",Qe({class:"group flex select-none items-center gap-3 px-4 py-3 transition-colors",style:{backgroundColor:d||(s=a.getDropZoneState(r.id))!=null&&s.isOver&&((u=a.getDropZoneState(r.id))!=null&&u.canDrop)?`${t.value.primaryColorHover}20`:t.value.cardColor},"data-selectable-id":r.id},d?{"data-prevent-selection":"true"}:null,{onMouseenter:c=>i(c,d),onMouseleave:c=>o(c,d),onClick:c=>e.onSelect([r.id],c),onDblclick:()=>e.onOpen(r),onDragstart:c=>a.startDrag(n.value,c),draggable:!0}),[l(dt,{item:r,size:20,showThumbnail:!1},null),l("div",{class:"flex-1 truncate text-sm",style:{color:d?t.value.primaryColor:t.value.textColorBase}},[r.name]),r.type==="file"&&l("div",{class:"w-20 flex-shrink-0 text-right text-xs",style:{color:d?t.value.primaryColor:t.value.textColor3}},[xt(r.size)])])]}})})])}}),Ta=z({name:"ContentView",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0}},setup(e){const t=pe(),n=ze("FILE_DRAG_DROP"),a=N(()=>e.items.filter(r=>e.selectedIds.value.has(r.id))),i=(r,d)=>{d||(r.currentTarget.style.backgroundColor=t.value.hoverColor)},o=(r,d)=>{d||(r.currentTarget.style.backgroundColor=t.value.cardColor)};return()=>l("div",{class:"grid grid-cols-3 content-start gap-2 p-4 lg:grid-cols-6 md:grid-cols-4 xl:grid-cols-7","data-selector":"content-viewer",style:{backgroundColor:t.value.bodyColor}},[e.items.map(r=>{const d=e.selectedIds.value.has(r.id);return l(bt,{key:r.id,zoneId:r.id,targetPath:r.path,item:r},{default:()=>{var s,u;return[l("div",Qe({key:r.id,"data-selectable-id":r.id,class:"select-none self-start overflow-hidden rounded transition-all",style:{backgroundColor:d||(s=n.getDropZoneState(r.id))!=null&&s.isOver&&((u=n.getDropZoneState(r.id))!=null&&u.canDrop)?`${t.value.primaryColorHover}20`:"transparent"},onMouseenter:c=>i(c,d),onMouseleave:c=>o(c,d)},d?{"data-prevent-selection":"true"}:null,{onClick:c=>e.onSelect([r.id],c),onDblclick:()=>e.onOpen(r),onDragstart:c=>n.startDrag(a.value,c),draggable:!0}),[l("div",{class:"relative aspect-video flex items-center justify-center overflow-hidden"},[r.thumbnailUrl?l("img",{src:r.thumbnailUrl,alt:r.name,class:"h-full w-full object-cover"},null):l(dt,{item:r,size:48,showThumbnail:!1},null)]),l("div",{class:"p-2"},[l("h3",{class:"truncate text-sm font-medium",style:{color:d?t.value.primaryColor:t.value.textColorBase}},[r.name]),l("div",{class:"mt-1 flex items-center justify-between text-xs",style:{color:d?t.value.primaryColor:t.value.textColor3}},[l("span",{class:"flex-1 truncate"},[Ca(r.modifiedAt)]),l("span",{class:"ml-2 flex-shrink-0"},[r.type==="file"?xt(r.size):""])]),r.type==="file"&&r.extension&&l("p",{class:"mt-1 truncate text-xs",style:{color:d?t.value.primaryColor:t.value.textColor3}},[r.extension.toUpperCase(),ee(" ")])])])]}})})])}}),Na=z({name:"FileViewRenderer",props:{items:{type:Array,required:!0},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0},viewMode:{type:String,required:!0},gridSize:{type:String,default:"medium"},sortField:{type:String,required:!1},sortOrder:{type:String,required:!1},onSort:{type:Function,required:!1}},setup(e){const t=C(null);return()=>{const n={items:e.items,selectedIds:e.selectedIds,onSelect:e.onSelect,onOpen:e.onOpen};switch(e.viewMode){case"grid":return l(Ma,Qe(n,{gridSize:e.gridSize}),null);case"list":return l(Ba,n,null);case"tile":return l(Fa,n,null);case"detail":return e.sortField&&e.sortOrder&&e.onSort?l(Ra,Qe(n,{ref:t,sortField:e.sortField,sortOrder:e.sortOrder,onSort:e.onSort}),null):null;case"content":return l(Ta,n,null);default:return null}}}}),$a=z({name:"ViewContainer",props:{items:{type:Array,required:!0},viewMode:{type:String,required:!0},gridSize:{type:String,required:!1,default:"medium"},selectedIds:{type:Object,required:!0},onSelect:{type:Function,required:!0},onOpen:{type:Function,required:!0},sortField:{type:String,required:!1},sortOrder:{type:String,required:!1},onSort:{type:Function,required:!1},loading:{type:Boolean,required:!1,default:!1},loadingTip:{type:String,required:!1,default:"..."},onContextMenuSelect:{type:Function,required:!0}},setup(e){const{handleContextMenuShow:t,handleContextMenuHide:n,options:a}=wa({selectedIds:e.selectedIds,onSelect:e.onSelect}),i=o=>{e.onSelect(o)};return()=>l("div",{class:"h-full",style:{position:"relative"}},[l(xa,{options:a.value,onSelect:e.onContextMenuSelect,triggerSelector:"[data-selectable-id],.selection-container",onShow:t,onHide:n,class:"h-full"},{default:()=>[l(io,{onSelectionChange:i,onClearSelection:()=>e.onSelect([]),class:"h-full"},{default:()=>[l(Wl,{yPlacement:"right",xPlacement:"bottom",class:"h-full"},{default:()=>[l(Na,e,null)]})]})]}),l(ka,{loading:e.loading,tip:e.loadingTip},null)])}}),wn=3,Aa=z({name:"DragPreview",props:{items:{type:Array,required:!0},isDragging:{type:Boolean,required:!0},dragStartPos:{type:Object,default:null},dragCurrentPos:{type:Object,default:null},operation:{type:String,required:!0}},setup(e){const t=N(()=>e.isDragging&&e.dragCurrentPos),n=N(()=>e.dragCurrentPos?{left:`${e.dragCurrentPos.x+10}px`,top:`${e.dragCurrentPos.y+10}px`,transform:"translate(0, 0)"}:{}),a=N(()=>e.items.slice(0,wn)),i=N(()=>Math.max(0,e.items.length-wn)),o=N(()=>e.operation==="copy"?Et:ma),r=N(()=>e.operation==="copy"?"":""),d=c=>{var m;if(c.type==="folder")return Gr;const g=(m=c.extension)==null?void 0:m.toLowerCase();return g?["jpg","jpeg","png","gif","svg","webp","bmp"].includes(g)?xl:["mp4","avi","mov","wmv","flv","mkv","webm"].includes(g)?bl:["mp3","wav","ogg","flac","aac","m4a"].includes(g)?kl:["js","ts","jsx","tsx","vue","html","css","scss","json","xml","py","java","cpp","c","go","rs"].includes(g)?$r:["zip","rar","7z","tar","gz","bz2"].includes(g)?Cl:Gt:Gt},s=c=>{var m;if(c.type==="folder")return"text-blue-500";const g=(m=c.extension)==null?void 0:m.toLowerCase();return g?["jpg","jpeg","png","gif","svg","webp","bmp"].includes(g)?"text-green-500":["mp4","avi","mov","wmv","flv","mkv","webm"].includes(g)?"text-purple-500":["mp3","wav","ogg","flac","aac","m4a"].includes(g)?"text-pink-500":["js","ts","jsx","tsx","vue","html","css","scss","json","xml","py","java","cpp","c","go","rs"].includes(g)?"text-yellow-500":["zip","rar","7z","tar","gz","bz2"].includes(g)?"text-orange-500":"text-gray-500":"text-gray-500"},u=c=>{c.preventDefault(),c.stopPropagation()};return()=>l(Ul,{to:"body"},{default:()=>[l(lt,{enterActiveClass:"transition-opacity duration-150",leaveActiveClass:"transition-opacity duration-150",enterFromClass:"opacity-0",leaveToClass:"opacity-0"},{default:()=>[t.value&&l("div",{class:"pointer-events-none fixed z-[9999] select-none",style:n.value,onMousedown:u},[l("div",{class:"max-w-[320px] min-w-[240px] border border-gray-200 rounded-lg bg-white p-3 shadow-2xl dark:border-gray-700 dark:bg-gray-800"},[l("div",{class:"mb-2 flex items-center gap-2 border-b border-gray-200 pb-2 dark:border-gray-700"},[l(J,{component:o.value,size:16,class:"text-blue-500"},null),l("span",{class:"text-xs text-gray-600 font-medium dark:text-gray-400"},[r.value,ee(" "),e.items.length,ee(" ")])]),l("div",{class:"space-y-1.5"},[a.value.map((c,g)=>{var m;return l("div",{key:c.id,class:"flex items-center gap-2 rounded bg-gray-50 p-1.5 dark:bg-gray-700/50",style:{opacity:1-g*.15}},[l("div",{class:["flex-shrink-0",s(c)]},[l(J,{component:d(c),size:20},null)]),l("span",{class:"flex-1 truncate text-sm text-gray-900 font-medium dark:text-gray-100"},[c.name]),l("span",{class:"flex-shrink-0 text-xs text-gray-500 dark:text-gray-400"},[c.type==="folder"?"":(m=c.extension)==null?void 0:m.toUpperCase()])])})]),i.value>0&&l("div",{class:"mt-2 flex items-center gap-2 border-t border-gray-200 pt-2 dark:border-gray-700"},[l("span",{class:"inline-flex items-center justify-center rounded-full bg-blue-100 px-2 py-0.5 text-xs text-blue-600 font-medium dark:bg-blue-900/30 dark:text-blue-400"},[ee("+"),i.value]),l("span",{class:"text-xs text-gray-500 dark:text-gray-400"},[ee(" "),i.value,ee(" ")])]),l("div",{class:"mt-2 border-t border-gray-200 pt-2 dark:border-gray-700"},[l("p",{class:"text-xs text-gray-400 dark:text-gray-500"},[e.operation==="move"?" Ctrl ":" Ctrl "])])]),l("div",{class:"absolute inset-0 rounded-lg bg-blue-500 opacity-30 blur-xl -z-10"},null)])]})]})}}),Ia=z({name:"FileBreadcrumb",props:{path:{type:String,required:!0},items:{type:Array,required:!0},onNavigate:{type:Function,required:!0},maxItems:{type:Number,default:5}},setup(e){const t=pe(),n=N(()=>{const o=e.items;return o.length<=e.maxItems?{head:o,collapsed:[],tail:[]}:{head:[o[0]],collapsed:o.slice(1,o.length-2),tail:o.slice(o.length-2)}}),a=N(()=>n.value.collapsed.map(o=>({label:o.name,key:o.id,icon:()=>l(J,null,{default:()=>[l(Kt,null,null)]})}))),i=o=>{const r=n.value.collapsed.find(d=>d.id===o);r&&e.onNavigate(r.path)};return()=>l("div",{class:"flex items-center border-b px-4 py-2",style:{backgroundColor:t.value.bodyColor,borderColor:t.value.dividerColor}},[l(Xl,{separator:""},{default:()=>[l(mt,null,{default:()=>[l("div",{class:"flex cursor-pointer items-center gap-1 rounded px-2 py-1 transition-colors",style:{color:t.value.textColor2},onMouseenter:o=>{o.currentTarget.style.backgroundColor=t.value.hoverColor},onMouseleave:o=>{o.currentTarget.style.backgroundColor="transparent"},onClick:()=>{var o;return e.onNavigate(((o=n.value.head[0])==null?void 0:o.path)||"/")}},[l(J,null,{default:()=>[l(ir,null,null)]})])]}),n.value.head.length>0&&l("span",{class:"mx-1",style:{color:t.value.textColor3}},[l(J,null,{default:()=>[l(pt,null,null)]})]),n.value.head.slice(1).map((o,r)=>l(_e,null,[l(mt,{key:o.id},{default:()=>[l("div",{class:"cursor-pointer rounded px-2 py-1 text-sm transition-colors",style:{color:t.value.textColor2},onMouseenter:d=>{d.currentTarget.style.backgroundColor=t.value.hoverColor},onMouseleave:d=>{d.currentTarget.style.backgroundColor="transparent"},onClick:()=>e.onNavigate(o.path)},[o.name])]}),l("span",{class:"mx-1",style:{color:t.value.textColor3}},[l(J,null,{default:()=>[l(pt,null,null)]})])])),n.value.collapsed.length>0&&l(_e,null,[l(mt,null,{default:()=>[l(ot,{options:a.value,onSelect:i,placement:"bottom-start"},{default:()=>[l("div",{class:"cursor-pointer rounded px-2 py-1 transition-colors",style:{color:t.value.textColor3},onMouseenter:o=>{o.currentTarget.style.backgroundColor=t.value.hoverColor},onMouseleave:o=>{o.currentTarget.style.backgroundColor="transparent"}},[l(J,null,{default:()=>[l(Wr,null,null)]})])]})]}),l("span",{class:"mx-1",style:{color:t.value.textColor3}},[l(J,null,{default:()=>[l(pt,null,null)]})])]),n.value.tail.map((o,r)=>l(_e,null,[l(mt,{key:o.id},{default:()=>[l("div",{class:["px-2 py-1 rounded cursor-pointer transition-colors text-sm",r===n.value.tail.length-1?"font-medium":""],style:{color:r===n.value.tail.length-1?t.value.primaryColor:t.value.textColor2},onMouseenter:d=>{r!==n.value.tail.length-1&&(d.currentTarget.style.backgroundColor=t.value.hoverColor)},onMouseleave:d=>{r!==n.value.tail.length-1&&(d.currentTarget.style.backgroundColor="transparent")},onClick:()=>{r!==n.value.tail.length-1&&e.onNavigate(o.path)}},[o.name])]}),r<n.value.tail.length-1&&l("span",{class:"mx-1",style:{color:t.value.textColor3}},[l(J,null,{default:()=>[l(pt,null,null)]})])]))]})])}}),Ea=z({name:"FileSidebar",props:{quickAccessItems:{type:Array,default:()=>[{id:"recent",label:"",icon:er,path:"/recent"},{id:"starred",label:"",icon:yr,path:"/starred"},{id:"trash",label:"",icon:xr,path:"/trash"}]},fileTypeItems:{type:Array,default:()=>[{id:"documents",label:"",icon:_n,path:"/type/documents"},{id:"images",label:"",icon:jn,path:"/type/images"},{id:"music",label:"",icon:Pn,path:"/type/music"},{id:"videos",label:"",icon:Ln,path:"/type/videos"},{id:"archives",label:"",icon:Go,path:"/type/archives"}]},treeData:{type:Array,default:()=>[]},currentPath:{type:String,required:!0},onNavigate:{type:Function,required:!0},showTree:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!1}},setup(e){const t=pe(),n=C([]),a=s=>()=>O(J,null,{default:()=>O(s)}),i=N(()=>{const s=[];return e.quickAccessItems.length>0&&s.push({label:"",key:"quick-access",icon:()=>O(J,null,{default:()=>O(hr)}),children:e.quickAccessItems.map(u=>({key:u.path,label:u.label,icon:a(u.icon),extra:u.count?()=>O(cn,{value:u.count,type:"info",max:99}):void 0}))}),e.fileTypeItems.length>0&&s.push({label:"",key:"file-types",icon:()=>O(J,null,{default:()=>O(Lt)}),children:e.fileTypeItems.map(u=>({key:u.path,label:u.label,icon:a(u.icon),extra:u.count?()=>O(cn,{value:u.count,type:"info",max:99}):void 0}))}),s}),o=N(()=>e.currentPath),r=s=>{e.onNavigate(s)},d=s=>{s.length>0&&e.onNavigate(s[0])};return()=>l("div",{class:"h-full flex flex-col overflow-hidden",style:{backgroundColor:t.value.cardColor}},[l("div",{class:"flex-shrink-0"},[l(vo,{value:o.value,options:i.value,collapsed:e.collapsed,collapsedWidth:64,collapsedIconSize:20,indent:12,onUpdateValue:r},null)]),e.showTree&&e.treeData.length>0&&!e.collapsed&&l(_e,null,[l(Yl,{class:"my-2"},null),l("div",{class:"flex-1 overflow-y-auto px-2 pb-2"},[l("div",{class:"mb-1 px-3 py-2 text-xs font-medium",style:{color:t.value.textColor3}},[ee("")]),l("div",{class:"rounded-md p-2",style:{backgroundColor:t.value.buttonColor2Hover}},[l(Xo,{data:e.treeData,blockLine:!0,expandOnClick:!0,selectable:!0,keyField:"key",labelField:"label",childrenField:"children",expandedKeys:n.value,selectedKeys:[o.value],onUpdateExpandedKeys:s=>{n.value=s},onUpdateSelectedKeys:d},null)])])])])}}),_a=z({name:"FileStatusBar",props:{totalItems:{type:Number,required:!0},folderCount:{type:Number,required:!0},fileCount:{type:Number,required:!0},selectedItems:{type:Array,default:()=>[]},totalSize:{type:Number,default:0},selectedSize:{type:Number,default:0},loading:{type:Boolean,default:!1},operationProgress:{type:Number,default:0},operationText:{type:String,default:""},storageUsed:{type:Number,default:0},storageTotal:{type:Number,default:0},showStorage:{type:Boolean,default:!1}},setup(e){const t=pe(),n=o=>{if(o===0)return"0 B";const r=["B","KB","MB","GB","TB"],d=1024,s=Math.floor(Math.log(o)/Math.log(d));return`${(o/d**s).toFixed(1)} ${r[s]}`},a=N(()=>e.storageTotal===0?0:Math.round(e.storageUsed/e.storageTotal*100)),i=N(()=>{const o=e.selectedItems.length;if(o===0)return"";const r=n(e.selectedSize);return` ${o}  (${r})`});return()=>l("div",{class:"flex select-none items-center justify-between border-b px-4 py-2 text-xs",style:{backgroundColor:t.value.bodyColor,borderColor:t.value.dividerColor,color:t.value.textColor2}},[l("div",{class:"flex items-center gap-4"},[l("div",{class:"flex items-center gap-1"},[l("span",{style:{color:t.value.textColor3}},[ee("")]),l("span",{class:"font-medium",style:{color:t.value.textColorBase}},[e.totalItems]),l("span",{style:{color:t.value.textColor3}},[ee("")])]),e.folderCount>0&&l("div",{class:"flex items-center gap-1"},[l(J,{size:14,style:{color:t.value.textColor3}},{default:()=>[l(Kt,null,null)]}),l("span",{class:"font-medium",style:{color:t.value.textColorBase}},[e.folderCount])]),e.fileCount>0&&l("div",{class:"flex items-center gap-1"},[l(J,{size:14,style:{color:t.value.textColor3}},{default:()=>[l(Lt,null,null)]}),l("span",{class:"font-medium",style:{color:t.value.textColorBase}},[e.fileCount])]),e.totalSize>0&&l("div",{class:"flex items-center gap-1"},[l("span",{style:{color:t.value.textColor3}},[ee(":")]),l("span",{class:"font-medium",style:{color:t.value.textColorBase}},[n(e.totalSize)])]),e.selectedItems.length>0&&l("div",{class:"h-3 w-px",style:{backgroundColor:t.value.dividerColor}},null),e.selectedItems.length>0&&l("div",{class:"flex items-center gap-1.5"},[l(J,{size:14,style:{color:t.value.primaryColor}},{default:()=>[l(co,null,null)]}),l("span",{style:{color:t.value.primaryColor}},[i.value])])]),e.operationProgress>0&&e.operationProgress<100&&l("div",{class:"mx-4 max-w-xs flex flex-1 items-center gap-2"},[l("span",{class:"whitespace-nowrap text-xs",style:{color:t.value.textColor3}},[e.operationText]),l(Zt,{type:"line",percentage:e.operationProgress,showIndicator:!1,height:4,style:{flex:1}},null),l("span",{class:"text-xs font-medium",style:{color:t.value.textColorBase}},[e.operationProgress,ee("%")])]),e.showStorage&&e.storageTotal>0&&l("div",{class:"flex items-center gap-2"},[l("span",{style:{color:t.value.textColor3}},[ee(":")]),l("span",{style:{color:t.value.textColorBase}},[n(e.storageUsed),ee(" / "),n(e.storageTotal)]),l("div",{class:"w-20"},[l(Zt,{type:"line",percentage:a.value,showIndicator:!1,height:4,status:a.value>90?"error":"success"},null)]),l("span",{class:"font-medium",style:{color:a.value>90?t.value.errorColor:t.value.textColorBase}},[a.value,ee("%")])]),e.loading&&l("div",{class:"flex items-center gap-2"},[l("div",{class:"h-1 w-1 animate-pulse rounded-full",style:{backgroundColor:t.value.primaryColor}},null),l("span",{style:{color:t.value.textColor3}},[ee("...")])])])}});function xn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Gl(e)}const Pa=z({name:"FileToolbar",props:{viewMode:{type:String,required:!0},onViewModeChange:{type:Function,required:!0},gridSize:{type:String,default:"medium"},onGridSizeChange:Function,sortField:{type:String,required:!0},sortOrder:{type:String,required:!0},onSortChange:{type:Function,required:!0},searchQuery:{type:String,default:""},onSearchChange:Function,showUpload:{type:Boolean,default:!0},showNewFolder:{type:Boolean,default:!0},onUpload:Function,onNewFolder:Function},setup(e){const t=pe(),n=C(!1),a=C(window.innerWidth<768),i=C(window.innerWidth>=768&&window.innerWidth<1024),o=N(()=>!a.value&&!i.value),r=()=>{const b=window.innerWidth;a.value=b<768,i.value=b>=768&&b<1024};Re(()=>window.addEventListener("resize",r)),it(()=>window.removeEventListener("resize",r));const d=[{value:"grid",icon:yn,label:""},{value:"list",icon:ia,label:""},{value:"tile",icon:ta,label:""},{value:"detail",icon:ua,label:""},{value:"content",icon:Sl,label:""}],s=[{label:"",value:"small"},{label:"",value:"medium"},{label:"",value:"large"},{label:"",value:"extra-large"}],u=[{label:"",value:"name"},{label:"",value:"modifiedAt"},{label:"",value:"type"},{label:"",value:"size"}],c=N(()=>{const b=[];return e.showNewFolder&&b.push({label:"",key:"new-folder",icon:()=>l(J,null,{default:()=>[l(cr,null,null)]})}),e.showUpload&&b.push({label:"",key:"upload",icon:()=>l(J,null,{default:()=>[l(kr,null,null)]})}),b}),g=b=>{var v;const h={"new-folder":e.onNewFolder,upload:e.onUpload};(v=h[b])==null||v.call(h)},m=()=>{const b=e.sortOrder==="asc"?"desc":"asc";e.onSortChange(e.sortField,b)};return()=>{let b,h;return l("div",{class:"flex flex-col border-b",style:{backgroundColor:t.value.cardColor,borderColor:t.value.dividerColor}},[l("div",{class:"flex items-center justify-between gap-2 px-4 py-3"},[l("div",{class:"flex flex-shrink-0 items-center gap-2"},[o.value&&l(Do,null,xn(b=d.map(v=>l(rn,{key:v.value},{trigger:()=>l(ie,{type:e.viewMode===v.value?"primary":"default",ghost:e.viewMode!==v.value,onClick:()=>e.onViewModeChange(v.value)},{default:()=>[l(J,{size:16},{default:()=>[l(v.icon,null,null)]})]}),default:()=>v.label})))?b:{default:()=>[b]}),i.value&&l(Tt,{value:e.viewMode,options:d.map(v=>({label:v.label,value:v.value})),onUpdateValue:e.onViewModeChange,style:{width:"110px"}},null),a.value&&l(ot,{options:d.map(v=>({label:v.label,key:v.value,icon:()=>l(J,null,{default:()=>[l(v.icon,null,null)]})})),onSelect:v=>e.onViewModeChange(v)},{default:()=>[l(ie,null,{default:()=>[l(J,{size:16},xn(h=(()=>{const v=d.find(x=>x.value===e.viewMode),w=v?v.icon:yn;return l(w,null,null)})())?h:{default:()=>[h]})]})]}),e.viewMode==="grid"&&e.onGridSizeChange&&l(Tt,{value:e.gridSize,options:s,onUpdateValue:e.onGridSizeChange,style:{width:"80px"},class:a.value?"hidden":""},null)]),!a.value&&l("div",{class:"mx-4 max-w-md flex flex-1"},[l(rt,{value:e.searchQuery,placeholder:"...",clearable:!0,onUpdateValue:e.onSearchChange},{prefix:()=>l(J,{size:16,style:{color:t.value.textColor3}},{default:()=>[l($t,null,null)]})})]),l("div",{class:"flex flex-shrink-0 items-center gap-2"},[o.value&&l("div",{class:"flex items-center gap-2"},[l(Tt,{value:e.sortField,options:u,onUpdateValue:v=>e.onSortChange(v,e.sortOrder),style:{width:"100px"}},null),l(rn,null,{trigger:()=>l(ie,{onClick:m},{default:()=>[l(J,{size:16},{default:()=>[e.sortOrder==="asc"?l(gn,null,null):l(mn,null,null)]})]}),default:()=>e.sortOrder==="asc"?"":""})]),i.value&&l(ot,{options:u.map(v=>({label:`${v.label} ${e.sortField===v.value?e.sortOrder==="asc"?"":"":""}`,key:v.value})),onSelect:v=>{const w=e.sortField===v?e.sortOrder==="asc"?"desc":"asc":e.sortOrder;e.onSortChange(v,w)}},{default:()=>[l(ie,null,{default:()=>[l(J,{size:16},{default:()=>[e.sortOrder==="asc"?l(gn,null,null):l(mn,null,null)]})]})]}),a.value&&l(ie,{onClick:()=>n.value=!n.value},{default:()=>[l(J,{size:16},{default:()=>[l($t,null,null)]})]}),(e.showNewFolder||e.showUpload)&&l(_e,null,[o.value&&l(_e,null,[l("div",{class:"mx-1 h-6 w-px",style:{backgroundColor:t.value.dividerColor}},null),e.showNewFolder&&l(ie,{onClick:e.onNewFolder},{default:()=>[ee("")]}),e.showUpload&&l(ie,{type:"primary",onClick:e.onUpload},{default:()=>[ee("")]})]),!o.value&&c.value.length>0&&l(ot,{options:c.value,onSelect:g},{default:()=>[l(ie,null,{default:()=>[l(J,{size:16},{default:()=>[l(qr,null,null)]})]})]})])])]),a.value&&n.value&&l("div",{class:"px-4 pb-3"},[l(rt,{value:e.searchQuery,placeholder:"...",clearable:!0,autofocus:!0,onUpdateValue:e.onSearchChange},{prefix:()=>l(J,{size:16,style:{color:t.value.textColor3}},{default:()=>[l($t,null,null)]})})])])}}}),ja=z({name:"ResizableLayout",props:{config:{type:Object,default:()=>({leftWidth:180,rightWidth:200,minRightWidth:120,maxRightWidth:1e3,showLeft:!0,showRight:!0})},collapsed:{type:Boolean,default:!1}},emits:["update:collapsed","update:config"],setup(e,{slots:t,emit:n}){const a=pe(),i=C(e.config.leftWidth),o=C(e.config.rightWidth),r=C(e.config.showLeft??!0),d=C(e.config.showRight??!0),s=C(!1),u=C(0),c=C(0),g=N(()=>e.config.minRightWidth??200),m=N(()=>e.config.maxRightWidth??600),b=()=>{n("update:collapsed",!e.collapsed),n("update:config",{...e.config})},h=T=>{T.preventDefault(),T.stopPropagation(),s.value=!0,u.value=T.clientX,c.value=o.value,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},v=T=>{if(s.value){const E=u.value-T.clientX,q=c.value+E;q>=g.value&&q<=m.value&&(o.value=q,n("update:config",{...e.config,rightWidth:o.value}))}},w=()=>{s.value&&(s.value=!1,document.body.style.cursor="",document.body.style.userSelect="")};Re(()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",w)}),jt(()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w)});const x=()=>l("div",{class:"group absolute bottom-0 left-0 top-0 w-4 cursor-col-resize transition-all",onMousedown:h},[l("div",{class:"absolute bottom-0 left-1/2 top-0 w-[1px] -translate-x-1/2",style:{backgroundColor:a.value.dividerColor}},null),l("div",{class:"absolute left-1/2 top-1/2 h-6 w-2 flex items-center justify-center rounded transition-all -translate-x-1/2 -translate-y-1/2",style:{backgroundColor:a.value.dividerColor}},[l(J,{size:"10"},{default:()=>[l(nr,null,null)]})])]);return()=>l(Oo,{class:"h-full",hasSider:!0},{default:()=>[r.value&&l(fn,{width:i.value,collapsedWidth:64,nativeScrollbar:!1,collapsed:e.collapsed,collapseMode:"width",showTrigger:"arrow-circle",bordered:!0,"onUpdate:collapsed":b},{default:()=>{var T;return[(T=t.left)==null?void 0:T.call(t)]}}),l(Ro,{nativeScrollbar:!1,contentClass:"h-full"},{default:()=>{var T;return[(T=t.default)==null?void 0:T.call(t)]}}),d.value&&l(fn,{width:o.value,nativeScrollbar:!1,collapsed:!1,showTrigger:!1,style:{transition:s.value?"none":"width 0.2s ease",position:"relative"}},{default:()=>{var T;return[x(),l("div",{style:"padding-left: 16px; height: 100%;"},[(T=t.right)==null?void 0:T.call(t)])]}})]})}}),La=[{id:"1",name:"",type:"folder",size:0,modifiedAt:new Date(2025,10,1),createdAt:new Date(2025,9,1),path:"/"},{id:"2",name:".fig",type:"file",size:2457600,extension:"fig",modifiedAt:new Date(2025,10,2),createdAt:new Date(2025,10,2),path:"/.fig"},{id:"3",name:"banner.png",type:"file",size:1024e3,extension:"png",modifiedAt:new Date(2025,10,3),createdAt:new Date(2025,10,3),thumbnailUrl:"https://via.placeholder.com/150/3b82f6",path:"/banner.png"},{id:"4",name:"",type:"folder",size:0,modifiedAt:new Date(2025,9,15),createdAt:new Date(2025,8,1),path:"/"},{id:"5",name:"presentation.pptx",type:"file",size:5242880,extension:"pptx",modifiedAt:new Date(2025,10,1),createdAt:new Date(2025,10,1),path:"/presentation.pptx"},{id:"6",name:"video-demo.mp4",type:"file",size:15728640,extension:"mp4",modifiedAt:new Date(2025,9,28),createdAt:new Date(2025,9,28),thumbnailUrl:"https://via.placeholder.com/150/ec4899",path:"/video-demo.mp4"},{id:"7",name:"music.mp3",type:"file",size:3145728,extension:"mp3",modifiedAt:new Date(2025,10,2),createdAt:new Date(2025,10,2),path:"/music.mp3"},{id:"8",name:"script.js",type:"file",size:8192,extension:"js",modifiedAt:new Date(2025,10,3),createdAt:new Date(2025,10,3),path:"/script.js"},{id:"9",name:"index.js",type:"file",size:12288,extension:"js",modifiedAt:new Date(2025,10,4),createdAt:new Date(2025,10,3),path:"/index.js"},{id:"10",name:"test.js",type:"file",size:4096,extension:"js",modifiedAt:new Date(2025,10,5),createdAt:new Date(2025,10,3),path:"/test.js"},{id:"11",name:"readme.md",type:"file",size:2048,extension:"md",modifiedAt:new Date(2025,10,6),createdAt:new Date(2025,10,6),path:"/readme.md"},{id:"12",name:"package.json",type:"file",size:8192,extension:"json",modifiedAt:new Date(2025,10,6),createdAt:new Date(2025,10,5),path:"/package.json"},{id:"13",name:"style.css",type:"file",size:10240,extension:"css",modifiedAt:new Date(2025,10,7),createdAt:new Date(2025,10,6),path:"/style.css"},{id:"14",name:"app.vue",type:"file",size:12288,extension:"vue",modifiedAt:new Date(2025,10,8),createdAt:new Date(2025,10,6),path:"/app.vue"},{id:"15",name:"data.json",type:"file",size:32768,extension:"json",modifiedAt:new Date(2025,10,8),createdAt:new Date(2025,10,7),path:"/data.json"},{id:"16",name:"notes.txt",type:"file",size:4096,extension:"txt",modifiedAt:new Date(2025,10,9),createdAt:new Date(2025,10,8),path:"/notes.txt"},{id:"17",name:"archive.zip",type:"file",size:2048e4,extension:"zip",modifiedAt:new Date(2025,10,10),createdAt:new Date(2025,10,9),path:"/archive.zip"},{id:"18",name:"report.docx",type:"file",size:512e4,extension:"docx",modifiedAt:new Date(2025,10,11),createdAt:new Date(2025,10,10),path:"/report.docx"},{id:"19",name:"data-backup.sql",type:"file",size:1048576,extension:"sql",modifiedAt:new Date(2025,10,12),createdAt:new Date(2025,10,11),path:"/data-backup.sql"},{id:"20",name:"config.yaml",type:"file",size:4096,extension:"yaml",modifiedAt:new Date(2025,10,13),createdAt:new Date(2025,10,12),path:"/config.yaml"},{id:"21",name:"assets",type:"folder",size:0,modifiedAt:new Date(2025,10,14),createdAt:new Date(2025,9,30),path:"/assets"},{id:"22",name:"database.db",type:"file",size:2097152,extension:"db",modifiedAt:new Date(2025,10,14),createdAt:new Date(2025,10,13),path:"/database.db"},{id:"23",name:"photo1.jpg",type:"file",size:1536e3,extension:"jpg",modifiedAt:new Date(2025,10,15),createdAt:new Date(2025,10,14),thumbnailUrl:"https://via.placeholder.com/150/10b981",path:"/photo1.jpg"},{id:"24",name:"photo2.jpg",type:"file",size:2048e3,extension:"jpg",modifiedAt:new Date(2025,10,15),createdAt:new Date(2025,10,14),thumbnailUrl:"https://via.placeholder.com/150/f97316",path:"/photo2.jpg"},{id:"25",name:"diagram.svg",type:"file",size:102400,extension:"svg",modifiedAt:new Date(2025,10,16),createdAt:new Date(2025,10,15),path:"/diagram.svg"},{id:"26",name:"server.log",type:"file",size:512e3,extension:"log",modifiedAt:new Date(2025,10,17),createdAt:new Date(2025,10,16),path:"/server.log"},{id:"27",name:"LICENSE",type:"file",size:1024,extension:"txt",modifiedAt:new Date(2025,10,17),createdAt:new Date(2025,9,1),path:"/LICENSE"},{id:"28",name:"thumbnail.webp",type:"file",size:524288,extension:"webp",modifiedAt:new Date(2025,10,18),createdAt:new Date(2025,10,18),thumbnailUrl:"https://via.placeholder.com/150/6366f1",path:"/thumbnail.webp"},{id:"29",name:"guide.pdf",type:"file",size:10485760,extension:"pdf",modifiedAt:new Date(2025,10,19),createdAt:new Date(2025,10,19),path:"/guide.pdf"},{id:"30",name:"temp",type:"folder",size:0,modifiedAt:new Date(2025,10,20),createdAt:new Date(2025,9,15),path:"/temp"}],Ka=[{id:"1",name:"",path:"/"},{id:"2",name:"",path:"/"},{id:"3",name:"",path:"//"},{id:"4",name:"1",path:"///"},{id:"5",name:"2",path:"///1/2"},{id:"6",name:"3",path:"///1/2"}];function Ha(e={}){const{onDragStart:t,onDragEnd:n,onDrop:a,onMove:i,onCopy:o,validateDrop:r,allowMultiple:d=!0,acceptedTypes:s=["file","folder"]}=e,u=C({isDragging:!1,draggedItems:[],dragStartPos:null,dragCurrentPos:null}),c=C(new Map),g=C("move"),m=N(()=>u.value.isDragging),b=N(()=>u.value.draggedItems.length),h=N(()=>!u.value.dragStartPos||!u.value.dragCurrentPos?{x:0,y:0}:{x:u.value.dragCurrentPos.x-u.value.dragStartPos.x,y:u.value.dragCurrentPos.y-u.value.dragStartPos.y}),v=(p,D,I="move")=>{!d&&p.length>1&&(p=[p[0]]);const M=p.filter(V=>s.includes(V.type));if(M.length!==0){if(u.value={isDragging:!0,draggedItems:M,dragStartPos:{x:D.clientX,y:D.clientY},dragCurrentPos:{x:D.clientX,y:D.clientY}},g.value=I,D.dataTransfer){D.dataTransfer.effectAllowed=I==="copy"?"copy":"move",D.dataTransfer.setData("application/file-explorer",JSON.stringify({items:M.map(U=>U.id),operation:I}));const V=document.createElement("div");V.style.opacity="0",V.style.position="absolute",V.style.top="-9999px",document.body.appendChild(V),D.dataTransfer.setDragImage(V,0,0),setTimeout(()=>document.body.removeChild(V),1)}t==null||t(M)}},w=p=>{if(!u.value.isDragging)return;const D=p.clientX,I=p.clientY;if(D===0&&I===0||D<0||I<0)return;const M=u.value.dragCurrentPos;M&&M.x===D&&M.y===I||(u.value.dragCurrentPos={x:D,y:I})},x=p=>{const D=p.ctrlKey||p.metaKey?"copy":"move";g.value!==D&&(g.value=D),"dataTransfer"in p&&p.dataTransfer&&(p.dataTransfer.dropEffect=D)},T=()=>{u.value={isDragging:!1,draggedItems:[],dragStartPos:null,dragCurrentPos:null},c.value.clear(),n==null||n()},E=(p,D)=>{c.value.has(p)||c.value.set(p,{isOver:!1,canDrop:!1,targetPath:D})},q=p=>{c.value.delete(p)},Y=p=>c.value.get(p),y=(p,D,I)=>{const M=u.value.draggedItems;if(M.length===0)return;const V=R(M,D);c.value.set(p,{isOver:!0,canDrop:V,targetPath:D})},F=p=>{const D=c.value.get(p);D&&c.value.set(p,{...D,isOver:!1})},R=(p,D,I)=>r&&!r(p,D,I)?!1:p.every(M=>!(M.path===D||D.startsWith(`${M.path}/`))),$=async p=>{const D=c.value.get(p);if(!D||!D.canDrop||!D.targetPath)return;const I=u.value.draggedItems,M=D.targetPath,V=g.value;try{await(a==null?void 0:a(I,M)),V==="copy"?await(o==null?void 0:o(I,M)):await(i==null?void 0:i(I,M))}finally{T()}};let L=!1;const G=()=>{if(L)return;const p=U=>{m.value&&w(U)},D=U=>{m.value&&(U.preventDefault(),w(U),x(U))},I=U=>{m.value&&x(U)},M=U=>{m.value&&(console.log("  dragend "),T())},V=U=>{m.value&&console.log("  drop ")};return document.addEventListener("drag",p,!0),document.addEventListener("dragover",D,!0),document.addEventListener("dragend",M,!0),document.addEventListener("drop",V,!0),document.addEventListener("keydown",I,!0),document.addEventListener("keyup",I,!0),L=!0,()=>{document.removeEventListener("drag",p,!0),document.removeEventListener("dragover",D,!0),document.removeEventListener("dragend",M,!0),document.removeEventListener("drop",V,!0),document.removeEventListener("keydown",I,!0),document.removeEventListener("keyup",I,!0),L=!1}};let re;return typeof window<"u"&&(Re(()=>{re=G()}),it(()=>{re==null||re()})),{dragState:u,isDragging:m,draggedCount:b,dragOffset:h,dragOperation:g,startDrag:v,updateDragPosition:w,updateDragOperation:x,endDrag:T,registerDropZone:E,unregisterDropZone:q,getDropZoneState:Y,enterDropZone:y,leaveDropZone:F,executeDrop:$,attachGlobalListeners:G}}function qa(e){const t=C("name"),n=C("asc"),a=N(()=>[...e.value].sort((r,d)=>{var u,c;let s=0;if(r.type==="folder"&&d.type!=="folder")return-1;if(r.type!=="folder"&&d.type==="folder")return 1;switch(t.value){case"name":s=r.name.localeCompare(d.name,"zh-CN");break;case"size":s=(r.size||0)-(d.size||0);break;case"type":s=(r.type||"").localeCompare(d.type||"");break;case"modifiedAt":s=(((u=r.modifiedAt)==null?void 0:u.getTime())||0)-(((c=d.modifiedAt)==null?void 0:c.getTime())||0);break}return n.value==="asc"?s:-s}));return{sortField:t,sortOrder:n,sortedFiles:a,setSorting:(o,r)=>{o===t.value&&!r?n.value=n.value==="asc"?"desc":"asc":(t.value=o,n.value=r||"asc")}}}function Va(e){const t=C(new Set),n=C(),a=N(()=>e.value.filter(s=>t.value.has(s.id)));return{selectedIds:t,selectedFiles:a,selectFile:(s,u)=>{const c=Array.isArray(s)?s:[s];if(!u){t.value=new Set(c),n.value=c[c.length-1];return}if(u.ctrlKey||u.metaKey){const g=new Set(t.value);c.forEach(m=>{g.has(m)?g.delete(m):g.add(m)}),t.value=g,n.value=c[c.length-1]}else if(u.shiftKey&&n.value){const g=e.value.findIndex(w=>w.id===n.value),m=e.value.findIndex(w=>w.id===c[c.length-1]),b=Math.min(g,m),h=Math.max(g,m),v=e.value.slice(b,h+1).map(w=>w.id);t.value=new Set(v)}else t.value=new Set(c),n.value=c[c.length-1]},selectMultiple:s=>{t.value=new Set(s),n.value=s[s.length-1]},clearSelection:()=>{t.value.clear(),n.value=void 0},selectAll:()=>{var s;t.value=new Set(e.value.map(u=>u.id)),n.value=(s=e.value[e.value.length-1])==null?void 0:s.id}}}function Wa(e,t={}){const{dialog:n,onCopy:a,onCut:i,onPaste:o,onDelete:r,onRename:d,onCreateFolder:s,onRefresh:u,onShowProperties:c}=t,g=C([]),m=C(null),b=async()=>{if(e.value.length===0){console.warn("");return}g.value=[...e.value],m.value="copy",console.log(`  ${g.value.length} `),await(a==null?void 0:a(g.value))},h=async()=>{if(e.value.length===0){console.warn("");return}g.value=[...e.value],m.value="cut",console.log(`  ${g.value.length} `),await(i==null?void 0:i(g.value))},v=async R=>{if(g.value.length===0||!m.value){console.warn("");return}const $=m.value,L=[...g.value];console.log(`  ${L.length}  (${$})`),await(o==null?void 0:o(L,$,R)),$==="cut"&&(g.value=[],m.value=null)},w=async()=>{if(e.value.length===0){console.warn("");return}const R=[...e.value];if(n){const $=R.length===1?R[0].name:`${R.length} `;n.confirm({title:"",content:` ${$} ?`,type:"warning",confirmText:"",onConfirm:async()=>{console.log(`  ${R.length} `),await(r==null?void 0:r(R))}})}else console.log(`  ${R.length} `),await(r==null?void 0:r(R))},x=async(R,$)=>{console.log(` : ${R.name} -> ${$}`),await(d==null?void 0:d(R,$))},T=()=>{if(e.value.length!==1){console.warn("");return}const R=e.value[0];n?n.rename({title:"",defaultValue:R.name,placeholder:"",validator:$=>$.trim()?$===R.name?"":!0:"",onConfirm:async $=>{await x(R,$)}}):(console.log(" :",R.name),d==null||d(R,R.name))},E=async(R,$)=>{if(n&&!R)n.rename({title:"",defaultValue:"",placeholder:"",validator:L=>L.trim()?!0:"",onConfirm:async L=>{console.log(` : ${L}`),await(s==null?void 0:s(L,$))}});else{const L=R||"";console.log(` : ${L}`),await(s==null?void 0:s(L,$))}},q=async()=>{console.log(" "),await(u==null?void 0:u())},Y=()=>{if(e.value.length!==1){console.warn("");return}const R=e.value[0];console.log(" :",R.name),c==null||c(R)},y=N(()=>g.value.length>0&&m.value!==null);return{clipboard:g,clipboardOperation:m,copyFiles:b,cutFiles:h,pasteFiles:v,deleteFiles:w,renameFile:x,startRename:T,createFolder:E,refresh:q,showProperties:Y,hasClipboardContent:y,clearClipboard:()=>{g.value=[],m.value=null}}}function Ua(e,t){const n=i=>{const o=[];i.ctrlKey&&o.push("Ctrl"),i.shiftKey&&o.push("Shift"),i.altKey&&o.push("Alt"),i.metaKey&&o.push("Meta");const r=i.key.length===1?i.key.toUpperCase():i.key;o.push(r);const d=o.join("+");e[d]&&(e[d](i),i.preventDefault())},a=i=>n(i);Re(()=>{const i=(t==null?void 0:t.value)||document;console.log("el",i),i.addEventListener("keydown",a)}),jt(()=>{((t==null?void 0:t.value)||document).removeEventListener("keydown",a)})}const ke={draggable:!0,resizable:!0,maskClosable:!0,showClose:!0,closeOnEsc:!0,showMask:!0,autoFocus:!0,trapFocus:!0,zIndex:void 0,position:"center",transformOrigin:void 0,minWidth:300,minHeight:200},Kn=z({name:"BaseDialog",props:{show:{type:Boolean,required:!0},title:{type:String,default:""},width:{type:[Number,String],default:600},height:{type:[Number,String],default:"auto"},minWidth:{type:Number,default:ke.minWidth},minHeight:{type:Number,default:ke.minHeight},maxWidth:{type:Number,default:void 0},maxHeight:{type:Number,default:void 0},draggable:{type:Boolean,default:ke.draggable},resizable:{type:Boolean,default:ke.resizable},showMask:{type:Boolean,default:ke.showMask},maskClosable:{type:Boolean,default:ke.maskClosable},showClose:{type:Boolean,default:ke.showClose},closeOnEsc:{type:Boolean,default:ke.closeOnEsc},autoFocus:{type:Boolean,default:ke.autoFocus},trapFocus:{type:Boolean,default:ke.trapFocus},transformOrigin:{type:String,default:ke.transformOrigin},position:{type:[String,Object],default:ke.position},zIndex:{type:Number,default:ke.zIndex},class:{type:String,default:""},contentClass:{type:String,default:""},onClose:{type:Function,default:void 0},onMaskClick:{type:Function,default:void 0},onAfterEnter:{type:Function,default:void 0},onAfterLeave:{type:Function,default:void 0}},setup(e,{slots:t}){const n=pe(),a=C(null),i=C(null),o=C(!1),r=C(!1),d=C(!1),s=C(!1),u=C(null),c=C({x:0,y:0}),g=C({width:0,height:0}),m=C({x:0,y:0,width:0,height:0}),b=C({x:0,y:0,dialogX:0,dialogY:0}),h=C({x:0,y:0,width:0,height:0,dialogX:0,dialogY:0}),v=N(()=>{const p={};return s.value?(p.position="fixed",p.left="0",p.top="0",p.width="100vw",p.height="100vh",p.transform="none",p.margin="0",p):(g.value.width>0?p.width=`${g.value.width}px`:typeof e.width=="number"?p.width=`${e.width}px`:p.width=e.width,g.value.height>0?p.height=`${g.value.height}px`:typeof e.height=="number"?p.height=`${e.height}px`:e.height!=="auto"&&(p.height=e.height),e.minWidth&&(p.minWidth=`${e.minWidth}px`),e.minHeight&&(p.minHeight=`${e.minHeight}px`),e.maxWidth&&(p.maxWidth=`${e.maxWidth}px`),e.maxHeight&&(p.maxHeight=`${e.maxHeight}px`),(d.value||e.position!=="center"&&typeof e.position=="object")&&(p.position="fixed",p.left=`${c.value.x}px`,p.top=`${c.value.y}px`,p.transform="none",p.margin="0"),p)}),w=()=>{if(e.position!=="center"&&typeof e.position=="object")c.value={...e.position},d.value=!0;else if(a.value){const p=a.value.getBoundingClientRect();c.value={x:p.left,y:p.top}}},x=()=>{if(s.value)s.value=!1,c.value={x:m.value.x,y:m.value.y},g.value={width:m.value.width,height:m.value.height};else{if(!d.value&&a.value){const p=a.value.getBoundingClientRect();c.value={x:p.left,y:p.top},d.value=!0}m.value={x:c.value.x,y:c.value.y,width:g.value.width,height:g.value.height},s.value=!0}},T=p=>{var D;if(!(!e.draggable||s.value)&&(D=i.value)!=null&&D.contains(p.target)&&!p.target.closest(".dialog-action-btn")){if(p.preventDefault(),!d.value&&a.value){const I=a.value.getBoundingClientRect();c.value={x:I.left,y:I.top},d.value=!0}o.value=!0,b.value={x:p.clientX,y:p.clientY,dialogX:c.value.x,dialogY:c.value.y},document.addEventListener("mousemove",E),document.addEventListener("mouseup",q),document.body.style.cursor="move",document.body.style.userSelect="none"}},E=p=>{if(!o.value)return;const D=p.clientX-b.value.x,I=p.clientY-b.value.y;let M=b.value.dialogX+D,V=b.value.dialogY+I;if(a.value){const U=a.value.getBoundingClientRect(),ae=window.innerWidth-U.width,ce=window.innerHeight-U.height;M=Math.max(0,Math.min(M,ae)),V=Math.max(0,Math.min(V,ce))}c.value={x:M,y:V}},q=()=>{o.value=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",q),document.body.style.cursor="",document.body.style.userSelect=""},Y=(p,D)=>{var M;if(!e.resizable||s.value)return;if(p.preventDefault(),p.stopPropagation(),!d.value&&a.value){const V=a.value.getBoundingClientRect();c.value={x:V.left,y:V.top},d.value=!0}r.value=!0,u.value=D;const I=(M=a.value)==null?void 0:M.getBoundingClientRect();I&&(h.value={x:p.clientX,y:p.clientY,width:I.width,height:I.height,dialogX:c.value.x,dialogY:c.value.y},document.addEventListener("mousemove",y),document.addEventListener("mouseup",F),document.body.style.userSelect="none")},y=p=>{if(!r.value||!u.value)return;const D=p.clientX-h.value.x,I=p.clientY-h.value.y,M=u.value;let V=h.value.width,U=h.value.height,ae=h.value.dialogX,ce=h.value.dialogY;const ge=e.minWidth||200,ye=e.minHeight||150,A=e.maxWidth||window.innerWidth,Q=e.maxHeight||window.innerHeight;if(M.includes("e")&&(V=Math.max(ge,Math.min(h.value.width+D,A))),M.includes("w")){const X=h.value.width-D;X>=ge&&X<=A?(V=X,ae=h.value.dialogX+D):X<ge?(V=ge,ae=h.value.dialogX+h.value.width-ge):(V=A,ae=h.value.dialogX+h.value.width-A)}if(M.includes("s")&&(U=Math.max(ye,Math.min(h.value.height+I,Q))),M.includes("n")){const X=h.value.height-I;X>=ye&&X<=Q?(U=X,ce=h.value.dialogY+I):X<ye?(U=ye,ce=h.value.dialogY+h.value.height-ye):(U=Q,ce=h.value.dialogY+h.value.height-Q)}ae<0&&(M.includes("w")&&(V+=ae),ae=0),ce<0&&(M.includes("n")&&(U+=ce),ce=0),ae+V>window.innerWidth&&(V=window.innerWidth-ae),ce+U>window.innerHeight&&(U=window.innerHeight-ce),g.value={width:V,height:U},(M.includes("w")||M.includes("n"))&&(c.value={x:ae,y:ce})},F=()=>{r.value=!1,u.value=null,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",F),document.body.style.userSelect=""},R=p=>({n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize",ne:"nesw-resize",nw:"nwse-resize",se:"nwse-resize",sw:"nesw-resize"})[p],$=()=>!e.resizable||s.value?null:l(_e,null,[["n","s","e","w","ne","nw","se","sw"].map(D=>l("div",{key:D,class:["absolute pointer-events-auto z-10",D==="n"&&"top-0 left-0 right-0 h-1 cursor-ns-resize",D==="s"&&"bottom-0 left-0 right-0 h-1 cursor-ns-resize",D==="e"&&"top-0 right-0 bottom-0 w-1 cursor-ew-resize",D==="w"&&"top-0 left-0 bottom-0 w-1 cursor-ew-resize",D==="ne"&&"top-0 right-0 w-3 h-3 cursor-nesw-resize",D==="nw"&&"top-0 left-0 w-3 h-3 cursor-nwse-resize",D==="se"&&"bottom-0 right-0 w-3 h-3 cursor-nwse-resize",D==="sw"&&"bottom-0 left-0 w-3 h-3 cursor-nesw-resize"],style:{cursor:R(D),backgroundColor:"transparent",transition:"background-color 0.1s ease-in-out"},onMousedown:I=>Y(I,D),onMouseenter:I=>{I.target.style.backgroundColor=`${n.value.primaryColor}33`},onMouseleave:I=>{I.target.style.backgroundColor="transparent"}},null))]),L=()=>{var p;(p=e.onClose)==null||p.call(e)},G=()=>{var p;e.maskClosable&&((p=e.onMaskClick)==null||p.call(e),L())},re=p=>{p.key==="Escape"&&e.closeOnEsc&&e.show&&L()};return De(()=>e.show,p=>{var D;p?setTimeout(()=>{var I;(I=e.onAfterEnter)==null||I.call(e),w()},50):(g.value={width:0,height:0},s.value=!1,(D=e.onAfterLeave)==null||D.call(e))}),Re(()=>{document.addEventListener("keydown",re)}),jt(()=>{document.removeEventListener("keydown",re),q(),F()}),()=>l(Zl,{show:e.show,trapFocus:!1,autoFocus:!1,closeOnEsc:e.closeOnEsc,unstableShowMask:e.showMask,maskClosable:e.maskClosable,onMaskClick:G,onUpdateShow:p=>!p&&L(),class:e.class,zIndex:e.zIndex,transformOrigin:e.transformOrigin},{default:()=>[l("div",{ref:a,class:["relative",e.draggable&&"cursor-default",o.value&&"select-none",r.value&&"select-none transition-none"],style:v.value},[$(),l(Ql,{bordered:!1,role:"dialog","aria-modal":"true",class:"h-full flex flex-col"},{header:()=>l("div",{ref:i,class:["flex items-center justify-between",e.draggable&&!s.value&&"cursor-move"],onMousedown:T,style:{userSelect:"none"}},[t.header?t.header():l("div",{class:"flex-1 text-base font-medium"},[e.title]),l("div",{class:"flex items-center gap-1"},[l(ie,{text:!0,onClick:x},{icon:()=>l(J,{size:16},{default:()=>[s.value?l(Ir,null,null):l(Xr,null,null)]})}),e.showClose&&l(ie,{text:!0,onClick:L},{icon:()=>l(J,{size:20},{default:()=>[l(Rr,null,null)]})})])]),default:()=>{var p;return l("div",{class:["flex-1 overflow-auto px-4 py-3",e.contentClass]},[(p=t.default)==null?void 0:p.call(t)])},footer:t.footer?()=>{var p;return l("div",{class:"flex items-center justify-end gap-2"},[(p=t.footer)==null?void 0:p.call(t)])}:void 0})])]})}}),Xa=z({name:"RenameDialog",props:{show:{type:Boolean,required:!0},config:{type:Object,required:!0}},emits:["update:show"],setup(e,{emit:t}){const n=pe(),a=C(null),i=C(""),o=C(""),r=C(!1);De(()=>e.show,b=>{b&&(i.value=e.config.defaultValue,o.value="",Oe(()=>{var v,w,x,T,E;(v=a.value)==null||v.focus();const h=i.value.lastIndexOf(".");if(h>0){(w=a.value)==null||w.select();const q=(T=(x=a.value)==null?void 0:x.$el)==null?void 0:T.querySelector("input");q&&q.setSelectionRange(0,h)}else(E=a.value)==null||E.select()}))});const d=b=>{if(!b.trim())return o.value="",!1;if(/[<>:"/\\|?*]/.test(b))return o.value=': < > : " / \\ | ? *',!1;if(e.config.validator){const v=e.config.validator(b);if(v!==!0)return o.value=v,!1}return o.value="",!0},s=b=>{i.value=b,o.value&&d(b)},u=async()=>{if(d(i.value)){if(i.value===e.config.defaultValue){g();return}r.value=!0;try{await e.config.onConfirm(i.value),g()}catch(b){o.value=b instanceof Error?b.message:""}finally{r.value=!1}}},c=()=>{var b,h;(h=(b=e.config).onCancel)==null||h.call(b),g()},g=()=>{t("update:show",!1)},m=b=>{b.key==="Enter"&&!r.value&&(b.preventDefault(),u())};return()=>l(Kn,{show:e.show,title:e.config.title||"",width:450,height:"auto",draggable:!0,resizable:!1,onClose:g},{default:()=>l("div",null,[l(rt,{ref:a,value:i.value,placeholder:e.config.placeholder||"",status:o.value?"error":void 0,disabled:r.value,onInput:s,onKeydown:m,style:{marginBottom:o.value?"8px":"0"}},null),o.value&&l("div",{style:{color:n.value.errorColor,fontSize:"12px",marginTop:"4px"}},[o.value])]),footer:()=>l(Ge,{justify:"end"},{default:()=>[l(ie,{onClick:c,disabled:r.value},{default:()=>[ee("")]}),l(ie,{type:"primary",loading:r.value,onClick:u},{default:()=>[ee("")]})]})})}}),Ya=z({name:"ConfirmDialog",props:{show:{type:Boolean,required:!0},config:{type:Object,required:!0}},emits:["update:show"],setup(e,{emit:t}){const n=pe(),a=C(!1),i=()=>{const u=e.config.type||"info";return{info:la,success:Fr,warning:ya,error:Tr}[u]},o=()=>{const u=e.config.type||"info";return{info:n.value.infoColor,success:n.value.successColor,warning:n.value.warningColor,error:n.value.errorColor}[u]},r=async()=>{a.value=!0;try{await e.config.onConfirm(),s()}catch(u){console.error("Confirm action failed:",u)}finally{a.value=!1}},d=()=>{var u,c;(c=(u=e.config).onCancel)==null||c.call(u),s()},s=()=>{t("update:show",!1)};return()=>{const u=i(),c=e.config.showCancel!==!1;return l(Kn,{show:e.show,title:e.config.title||"",width:450,height:"auto",draggable:!0,resizable:!1,onClose:s,position:"center"},{default:()=>l("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"}},[l(J,{size:24,color:o(),style:{flexShrink:0,marginTop:"2px"}},{default:()=>[l(u,null,null)]}),l("div",{style:{flex:1,color:n.value.textColor2,lineHeight:"1.6"}},[typeof e.config.content=="string"?l("div",null,[e.config.content]):e.config.content])]),footer:()=>l(Ge,{justify:"end"},{default:()=>[c&&l(ie,{onClick:d,disabled:a.value},{default:()=>[e.config.cancelText||""]}),l(ie,{type:e.config.type==="error"?"error":"primary",loading:a.value,onClick:r},{default:()=>[e.config.confirmText||""]})]})})}}});async function bn(e,t,n){const a=document.createElement("div");document.body.appendChild(a);const i=Jl(),{naiveTheme:o,darkMode:r}=eo(i),d=C(!1);let s=!1;const u=()=>{s||(s=!0,setTimeout(()=>{an(null,a),a.remove(),a.parentNode&&document.body.removeChild(a)},300))},c=()=>{u()},g=b=>{d.value=b};Ye(()=>{const b=l(e,{show:d.value,config:t,"onUpdate:show":g,onAfterLeave:c,onClose:t==null?void 0:t.onClose}),h=l(no,{theme:r.value?to:o.value.Modal,themeOverrides:o.value},{default:()=>b});an(h,a)});const m={show:()=>d.value=!0,hide:()=>d.value=!1,destroy:()=>u()};return await Oe(),m.show(),m}function Ga(e){const t=s=>bn(Xa,s),n=s=>bn(Ya,s);return{rename:t,confirm:n,info:(s,u)=>n({title:u||"",content:s,type:"info",showCancel:!1,onConfirm:()=>{}}),success:(s,u)=>n({title:u||"",content:s,type:"success",showCancel:!1,onConfirm:()=>{}}),warning:(s,u)=>n({title:u||"",content:s,type:"warning",showCancel:!1,onConfirm:()=>{}}),error:(s,u)=>n({title:u||"",content:s,type:"error",showCancel:!1,onConfirm:()=>{}}),confirmDelete:(s,u)=>n({title:"",content:` "${s}" ?`,type:"warning",confirmText:"",onConfirm:u})}}function Za(e,t){return{onCopy:async n=>{t==null||t(!0,"...");try{await new Promise(a=>setTimeout(a,500)),e.success(` ${n.length} `)}finally{t==null||t(!1)}},onCut:async n=>{t==null||t(!0,"...");try{await new Promise(a=>setTimeout(a,500)),e.info(` ${n.length} `)}finally{t==null||t(!1)}},onPaste:async(n,a,i)=>{const o=a==="copy"?"":"";t==null||t(!0,`${o}...`);try{await new Promise(r=>setTimeout(r,800)),e.success(`${o} ${n.length} ${i?`  ${i}`:""}`)}finally{t==null||t(!1)}},onDelete:async n=>{t==null||t(!0,"...");try{await new Promise(a=>setTimeout(a,600)),e.warning(` ${n.length} `)}finally{t==null||t(!1)}},onRename:async(n,a)=>{t==null||t(!0,"...");try{await new Promise(i=>setTimeout(i,400)),e.info(`: ${n.name} -> ${a}`)}finally{t==null||t(!1)}},onCreateFolder:async(n,a)=>{t==null||t(!0,"...");try{await new Promise(i=>setTimeout(i,400)),e.success(`: ${n}`)}finally{t==null||t(!1)}},onRefresh:async()=>{t==null||t(!0,"...");try{await new Promise(n=>setTimeout(n,600)),e.info("")}finally{t==null||t(!1)}},onShowProperties:n=>{e.info(`: ${n.name}`)}}}function Qa(e){const{selectAll:t,clearSelection:n,selectedFiles:a,fileOperations:i,viewMode:o,handleOpen:r,message:d}=e;return{"Ctrl+A":s=>{t(),d.info("")},"Ctrl+C":s=>{i.copyFiles()},"Ctrl+X":s=>{i.cutFiles()},"Ctrl+V":s=>{i.pasteFiles()},Delete:s=>{i.deleteFiles()},F2:s=>{i.startRename()},Enter:s=>{a.value.length===1?r(a.value[0]):a.value.length>1&&d.warning("")},"Alt+Enter":s=>{i.showProperties()},"Ctrl+1":s=>{o.value="grid",d.info("")},"Ctrl+2":s=>{o.value="list",d.info("")},"Ctrl+3":s=>{o.value="tile",d.info("")},"Ctrl+4":s=>{o.value="detail",d.info("")},"Ctrl+5":s=>{o.value="content",d.info("")},F5:s=>{i.refresh()},"Ctrl+Shift+N":s=>{i.createFolder()},Escape:s=>{n(),d.info("")}}}function Ja(e){const{fileOperations:t,message:n,selectedFiles:a,onOpen:i,onSort:o}=e,r={copy:()=>t.copyFiles(),cut:()=>t.cutFiles(),paste:()=>t.pasteFiles(),delete:()=>t.deleteFiles(),rename:()=>t.startRename(),refresh:()=>t.refresh(),properties:()=>t.showProperties(),"new-folder":()=>t.createFolder(),open:()=>{a.value.length===1?i==null||i(a.value[0]):a.value.length===0?n.warning(""):n.warning("")},"open-default":()=>{a.value.length===1&&n.info(`: ${a.value[0].name}`)},"open-text":()=>{a.value.length===1&&n.info(`: ${a.value[0].name}`)},"open-code":()=>{a.value.length===1&&n.info(`: ${a.value[0].name}`)},"sort-name":()=>o==null?void 0:o("name"),"sort-size":()=>o==null?void 0:o("size"),"sort-modified":()=>o==null?void 0:o("modifiedAt"),"sort-created":()=>o==null?void 0:o("createdAt"),download:()=>{const d=a.value.length;d>0?n.info(` ${d}  ()`):n.warning("")},share:()=>{const d=a.value.length;d>0?n.info(` ${d}  ()`):n.warning("")},favorite:()=>{a.value.length===1?n.info(`: ${a.value[0].name} ()`):n.warning("")}};return d=>{const s=r[d];if(s){const u=s();u instanceof Promise&&u.catch(c=>{console.error(` "${d}" :`,c),n.error(`: ${c.message||""}`)})}else console.warn(` "${d}" `)}}function ei(e){const{initialItems:t,containerRef:n,validateDrop:a}=e,i=lo(),o=C(!1),r=C("small"),d=C("grid"),s=C(t),u=C(!1),c=C("..."),g=C({leftWidth:180,rightWidth:200,minRightWidth:120,maxRightWidth:1e3,showLeft:!0,showRight:!0}),m=Ha({validateDrop:a||((M,V)=>{var U;return((U=s.value.find(ae=>ae.path===V))==null?void 0:U.type)==="folder"})});Ze("FILE_DRAG_DROP",m);const{setSorting:b,sortedFiles:h,sortOrder:v,sortField:w}=qa(s),{selectedIds:x,selectFile:T,selectAll:E,clearSelection:q,selectedFiles:Y}=Va(h),y=(M,V)=>{u.value=M,V!==void 0&&(c.value=V)},F=Ga();Ze("FILE_DIALOG",F);const R=Za(i,y),$=Wa(Y,{...R,dialog:F}),L=M=>{d.value=M},G=M=>{console.log(":",M)},re=M=>{console.log(":",M)},p=M=>{r.value=M},D=Qa({selectAll:E,clearSelection:q,selectedFiles:Y,fileOperations:$,viewMode:d,handleOpen:G,message:i});Ua(D,n);const I=Ja({fileOperations:$,message:i,selectedFiles:Y,onOpen:G,onSort:b});return{collapsed:o,gridSize:r,viewMode:d,mockItems:s,sortedFiles:h,sortOrder:v,sortField:w,selectedIds:x,selectedFiles:Y,loading:u,loadingTip:c,layoutConfig:g,dragDrop:m,dialog:F,setSorting:b,selectFile:T,selectAll:E,clearSelection:q,handleViewModeChange:L,handleOpen:G,handleBreadcrumbNavigate:re,handleGridSizeChange:p,setLoading:y,handleContextMenuSelect:I,fileOperations:$}}const ti=z({name:"FileExplorer",setup(){const e=C(null),t=ei({initialItems:La,containerRef:e,validateDrop:(n,a)=>{var i;return((i=t.mockItems.value.find(o=>o.path===a))==null?void 0:i.type)==="folder"}});return Re(async()=>{var n;t.setLoading(!0,"..."),await new Promise(a=>setTimeout(a,800)),t.setLoading(!1),(n=e.value)==null||n.focus()}),()=>l("div",{ref:e,class:"h-500px flex flex-col",tabindex:0,style:{outline:"none"}},[l(Pa,{viewMode:t.viewMode.value,sortField:t.sortField.value,sortOrder:t.sortOrder.value,gridSize:t.gridSize.value,onSortChange:t.setSorting,onGridSizeChange:t.handleGridSizeChange,onViewModeChange:t.handleViewModeChange},null),l(Ia,{path:"//",maxItems:5,items:Ka,onNavigate:t.handleBreadcrumbNavigate},null),l(_a,{totalItems:t.mockItems.value.length,fileCount:t.mockItems.value.filter(n=>n.type==="file").length,folderCount:t.mockItems.value.filter(n=>n.type==="folder").length},null),l("div",{class:"flex-1 overflow-hidden"},[l(ja,{collapsed:t.collapsed.value,"onUpdate:collapsed":n=>t.collapsed.value=n,config:t.layoutConfig.value},{left:l(Ea,{treeData:[],currentPath:"/",onNavigate:()=>{},collapsed:t.collapsed.value},null),default:l($a,{items:t.sortedFiles.value,viewMode:t.viewMode.value,gridSize:t.gridSize.value,selectedIds:t.selectedIds,onSelect:t.selectFile,onOpen:t.handleOpen,sortField:t.sortField.value,sortOrder:t.sortOrder.value,onSort:t.setSorting,loading:t.loading.value,loadingTip:t.loadingTip.value,onContextMenuSelect:t.handleContextMenuSelect},null),right:l(Sr,null,null)})]),l(Aa,{items:t.dragDrop.dragState.value.draggedItems,isDragging:t.dragDrop.isDragging.value,dragStartPos:t.dragDrop.dragState.value.dragStartPos,dragCurrentPos:t.dragDrop.dragState.value.dragCurrentPos,operation:t.dragDrop.dragOperation.value},null)])}}),fi=z({name:"file-manager",__name:"index",setup(e){return(t,n)=>(H(),oo(ro(ti)))}});export{fi as default};
