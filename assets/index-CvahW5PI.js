import{F as T,c as N,az as j,aA as H,d as S,aB as O,a as L,o as k,b as p,$ as o,aC as Z,aD as J,u as F,aE as M,l as R,w as r,e as n,S as B,g as e,aF as U,aG as X,f as C,t as y,B as q,aH as $,aI as Q,W as Y,X as ee,a5 as G,aJ as oe,aK as ne,aL as te,aM as ae,aN as le,V as se,aO as re,aP as ie,T as de,aQ as ce,a6 as pe,J as ue}from"./index-D3pJGQdL.js";import{a as I,_ as D}from"./FormItem-DYD-Ey5V.js";function me(m){const d=T(0),a=N(()=>Math.ceil(d.value/60)),u=N(()=>d.value>0),{pause:i,resume:x}=j(()=>{d.value>0?d.value-=1:i()},{immediate:!1});function h(w=m){d.value=60*w,x()}function t(){d.value=0,i()}return H(()=>{i()}),{count:a,isCounting:u,start:h,stop:t}}const ge={class:"absolute-lt z-1 size-full overflow-hidden"},fe={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},_e={height:"1337",width:"1337"},he={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},we=["stop-color"],ve=["stop-color"],ye={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},xe={height:"896",width:"967.8852157128662"},Ce={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},be=["stop-color"],Ne=["stop-color"],ke=S({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(m){const f=m,d=N(()=>O(f.themeColor,200)),a=N(()=>O(f.themeColor,500));return(u,i)=>(k(),L("div",ge,[p("div",fe,[(k(),L("svg",_e,[p("defs",null,[i[0]||(i[0]=p("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),p("linearGradient",he,[p("stop",{offset:"0","stop-color":d.value,"stop-opacity":"1"},null,8,we),p("stop",{offset:"1","stop-color":a.value,"stop-opacity":"1"},null,8,ve)])]),i[1]||(i[1]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),p("div",ye,[(k(),L("svg",xe,[p("defs",null,[i[2]||(i[2]=p("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),p("linearGradient",Ce,[p("stop",{offset:"0","stop-color":a.value,"stop-opacity":"1"},null,8,be),p("stop",{offset:"1","stop-color":d.value,"stop-opacity":"1"},null,8,Ne)])]),i[3]||(i[3]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),Pe=/^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$/,K=/^[1](([3][0-9])|([4][01456789])|([5][012356789])|([6][2567])|([7][0-8])|([8][0-9])|([9][012356789]))[0-9]{8}$/,$e=/^\w{6,18}$/,Re=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,Se=/^\d{6}$/;function A(){const m={userName:{pattern:Pe,message:o("form.userName.invalid"),trigger:"change"},phone:{pattern:K,message:o("form.phone.invalid"),trigger:"change"},pwd:{pattern:$e,message:o("form.pwd.invalid"),trigger:"change"},code:{pattern:Se,message:o("form.code.invalid"),trigger:"change"},email:{pattern:Re,message:o("form.email.invalid"),trigger:"change"}},f={userName:[a(o("form.userName.required")),m.userName],phone:[a(o("form.phone.required")),m.phone],pwd:[a(o("form.pwd.required")),m.pwd],code:[a(o("form.code.required")),m.code],email:[a(o("form.email.required")),m.email]},d=a(o("form.required"));function a(i){return{required:!0,message:i}}function u(i){return[{required:!0,message:o("form.confirmPwd.required")},{asyncValidator:(h,t)=>t.trim()!==""&&t!==Z(i)?Promise.reject(h.message):Promise.resolve(),message:o("form.confirmPwd.invalid"),trigger:"input"}]}return{patternRules:m,formRules:f,defaultRequiredRule:d,createRequiredRule:a,createConfirmPwdRule:u}}function V(){const m=T(null);async function f(){var a;await((a=m.value)==null?void 0:a.validate())}async function d(){var a;(a=m.value)==null||a.restoreValidation()}return{formRef:m,validate:f,restoreValidation:d}}const Le={class:"flex-y-center justify-between"},ze={class:"flex-y-center justify-between gap-12px"},Ee={class:"flex-center gap-12px"},Fe=S({name:"PwdLogin",__name:"pwd-login",setup(m){const f=J(),{toggleLoginModule:d}=F(),{formRef:a,validate:u}=V(),i=M({userName:"Soybean",password:"123456"}),x=N(()=>{const{formRules:c}=A();return{userName:c.userName,password:c.pwd}});async function h(){await u(),await f.login(i.userName,i.password)}const t=N(()=>[{key:"super",label:o("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:o("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:o("page.login.pwdLogin.user"),userName:"User",password:"123456"}]);async function w(c){await f.login(c.userName,c.password)}return(c,l)=>{const s=B,_=I,g=X,b=q,z=Q,E=U,v=D;return k(),R(v,{ref_key:"formRef",ref:a,model:i,rules:x.value,size:"large","show-label":!1,onKeyup:G(h,["enter"])},{default:r(()=>[n(_,{path:"userName"},{default:r(()=>[n(s,{value:i.userName,"onUpdate:value":l[0]||(l[0]=P=>i.userName=P),placeholder:e(o)("page.login.common.userNamePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(_,{path:"password"},{default:r(()=>[n(s,{value:i.password,"onUpdate:value":l[1]||(l[1]=P=>i.password=P),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(E,{vertical:"",size:24},{default:r(()=>[p("div",Le,[n(g,null,{default:r(()=>[C(y(e(o)("page.login.pwdLogin.rememberMe")),1)]),_:1}),n(b,{quaternary:"",onClick:l[2]||(l[2]=P=>e(d)("reset-pwd"))},{default:r(()=>[C(y(e(o)("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),n(b,{type:"primary",size:"large",round:"",block:"",loading:e(f).loginLoading,onClick:h},{default:r(()=>[C(y(e(o)("common.confirm")),1)]),_:1},8,["loading"]),p("div",ze,[n(b,{class:"flex-1",block:"",onClick:l[3]||(l[3]=P=>e(d)("code-login"))},{default:r(()=>[C(y(e(o)(e($)["code-login"])),1)]),_:1}),n(b,{class:"flex-1",block:"",onClick:l[4]||(l[4]=P=>e(d)("register"))},{default:r(()=>[C(y(e(o)(e($).register)),1)]),_:1})]),n(z,{class:"text-14px text-#666 !m-0"},{default:r(()=>[C(y(e(o)("page.login.pwdLogin.otherAccountLogin")),1)]),_:1}),p("div",Ee,[(k(!0),L(Y,null,ee(t.value,P=>(k(),R(b,{key:P.key,type:"primary",onClick:je=>w(P)},{default:r(()=>[C(y(P.label),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1},8,["model","rules"])}}});function W(){const{loading:m,startLoading:f,endLoading:d}=oe(),{count:a,start:u,stop:i,isCounting:x}=me(10),h=N(()=>{let c=o("page.login.codeLogin.getCode");const l=o("page.login.codeLogin.reGetCode",{time:a.value});return m.value&&(c=""),x.value&&(c=l),c});function t(c){var l,s,_,g;return c.trim()===""?((s=(l=window.$message)==null?void 0:l.error)==null||s.call(l,o("form.phone.required")),!1):K.test(c)?!0:((g=(_=window.$message)==null?void 0:_.error)==null||g.call(_,o("form.phone.invalid")),!1)}async function w(c){var s,_;!t(c)||m.value||(f(),await new Promise(g=>{setTimeout(g,500)}),(_=(s=window.$message)==null?void 0:s.success)==null||_.call(s,o("page.login.codeLogin.sendCodeSuccess")),u(),d())}return{label:h,start:u,stop:i,isCounting:x,loading:m,getCaptcha:w}}const Me={class:"w-full flex-y-center gap-16px"},Be=S({name:"CodeLogin",__name:"code-login",setup(m){const{toggleLoginModule:f}=F(),{formRef:d,validate:a}=V(),{label:u,isCounting:i,loading:x,getCaptcha:h}=W(),t=M({phone:"",code:""}),w=N(()=>{const{formRules:l}=A();return{phone:l.phone,code:l.code}});async function c(){var l;await a(),(l=window.$message)==null||l.success(o("page.login.common.validateSuccess"))}return(l,s)=>{const _=B,g=I,b=q,z=U,E=D;return k(),R(E,{ref_key:"formRef",ref:d,model:t,rules:w.value,size:"large","show-label":!1,onKeyup:G(c,["enter"])},{default:r(()=>[n(g,{path:"phone"},{default:r(()=>[n(_,{value:t.phone,"onUpdate:value":s[0]||(s[0]=v=>t.phone=v),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"code"},{default:r(()=>[p("div",Me,[n(_,{value:t.code,"onUpdate:value":s[1]||(s[1]=v=>t.code=v),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(b,{size:"large",disabled:e(i),loading:e(x),onClick:s[2]||(s[2]=v=>e(h)(t.phone))},{default:r(()=>[C(y(e(u)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(z,{vertical:"",size:18,class:"w-full"},{default:r(()=>[n(b,{type:"primary",size:"large",round:"",block:"",onClick:c},{default:r(()=>[C(y(e(o)("common.confirm")),1)]),_:1}),n(b,{size:"large",round:"",block:"",onClick:s[3]||(s[3]=v=>e(f)("pwd-login"))},{default:r(()=>[C(y(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ue={class:"w-full flex-y-center gap-16px"},qe=S({name:"Register",__name:"register",setup(m){const{toggleLoginModule:f}=F(),{formRef:d,validate:a}=V(),{label:u,isCounting:i,loading:x,getCaptcha:h}=W(),t=M({phone:"",code:"",password:"",confirmPassword:""}),w=N(()=>{const{formRules:l,createConfirmPwdRule:s}=A();return{phone:l.phone,code:l.code,password:l.pwd,confirmPassword:s(t.password)}});async function c(){var l;await a(),(l=window.$message)==null||l.success(o("page.login.common.validateSuccess"))}return(l,s)=>{const _=B,g=I,b=q,z=U,E=D;return k(),R(E,{ref_key:"formRef",ref:d,model:t,rules:w.value,size:"large","show-label":!1,onKeyup:G(c,["enter"])},{default:r(()=>[n(g,{path:"phone"},{default:r(()=>[n(_,{value:t.phone,"onUpdate:value":s[0]||(s[0]=v=>t.phone=v),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"code"},{default:r(()=>[p("div",Ue,[n(_,{value:t.code,"onUpdate:value":s[1]||(s[1]=v=>t.code=v),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(b,{size:"large",disabled:e(i),loading:e(x),onClick:s[2]||(s[2]=v=>e(h)(t.phone))},{default:r(()=>[C(y(e(u)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(g,{path:"password"},{default:r(()=>[n(_,{value:t.password,"onUpdate:value":s[3]||(s[3]=v=>t.password=v),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"confirmPassword"},{default:r(()=>[n(_,{value:t.confirmPassword,"onUpdate:value":s[4]||(s[4]=v=>t.confirmPassword=v),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(z,{vertical:"",size:18,class:"w-full"},{default:r(()=>[n(b,{type:"primary",size:"large",round:"",block:"",onClick:c},{default:r(()=>[C(y(e(o)("common.confirm")),1)]),_:1}),n(b,{size:"large",round:"",block:"",onClick:s[5]||(s[5]=v=>e(f)("pwd-login"))},{default:r(()=>[C(y(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ge=S({name:"ResetPwd",__name:"reset-pwd",setup(m){const{toggleLoginModule:f}=F(),{formRef:d,validate:a}=V(),u=M({phone:"",code:"",password:"",confirmPassword:""}),i=N(()=>{const{formRules:h,createConfirmPwdRule:t}=A();return{phone:h.phone,password:h.pwd,confirmPassword:t(u.password)}});async function x(){var h;await a(),(h=window.$message)==null||h.success(o("page.login.common.validateSuccess"))}return(h,t)=>{const w=B,c=I,l=q,s=U,_=D;return k(),R(_,{ref_key:"formRef",ref:d,model:u,rules:i.value,size:"large","show-label":!1,onKeyup:G(x,["enter"])},{default:r(()=>[n(c,{path:"phone"},{default:r(()=>[n(w,{value:u.phone,"onUpdate:value":t[0]||(t[0]=g=>u.phone=g),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(c,{path:"code"},{default:r(()=>[n(w,{value:u.code,"onUpdate:value":t[1]||(t[1]=g=>u.code=g),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(c,{path:"password"},{default:r(()=>[n(w,{value:u.password,"onUpdate:value":t[2]||(t[2]=g=>u.password=g),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(c,{path:"confirmPassword"},{default:r(()=>[n(w,{value:u.confirmPassword,"onUpdate:value":t[3]||(t[3]=g=>u.confirmPassword=g),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(s,{vertical:"",size:18,class:"w-full"},{default:r(()=>[n(l,{type:"primary",size:"large",round:"",block:"",onClick:x},{default:r(()=>[C(y(e(o)("common.confirm")),1)]),_:1}),n(l,{size:"large",round:"",block:"",onClick:t[4]||(t[4]=g=>e(f)("pwd-login"))},{default:r(()=>[C(y(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ie=S({name:"BindWechat",__name:"bind-wechat",setup(m){return(f,d)=>(k(),L("div"))}}),De={class:"w-400px lt-sm:w-300px"},Ae={class:"flex-y-center justify-between"},Ve={class:"text-28px text-primary font-500 lt-sm:text-22px"},Oe={class:"i-flex-col"},Te={class:"pt-24px"},Ke={class:"text-18px text-primary font-medium"},We={class:"pt-24px"},Je=S({name:"login",__name:"index",props:{module:{}},setup(m){const f=m,d=ne(),a=te(),u={"pwd-login":{label:$["pwd-login"],component:Fe},"code-login":{label:$["code-login"],component:Be},register:{label:$.register,component:qe},"reset-pwd":{label:$["reset-pwd"],component:Ge},"bind-wechat":{label:$["bind-wechat"],component:Ie}},i=N(()=>u[f.module||"pwd-login"]),x=N(()=>a.darkMode?O(a.themeColor,600):a.themeColor),h=N(()=>{const t="#ffffff",w=a.darkMode?.5:.2;return ae(t,a.themeColor,w)});return(t,w)=>{const c=ke,l=le,s=re,_=ie,g=pe;return k(),L("div",{class:"relative size-full flex-center overflow-hidden",style:ue({backgroundColor:h.value})},[n(c,{"theme-color":x.value},null,8,["theme-color"]),n(g,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:r(()=>[p("div",De,[p("header",Ae,[n(l,{class:"text-64px text-primary lt-sm:text-48px"}),p("h3",Ve,y(e(o)("system.title")),1),p("div",Oe,[n(s,{"theme-schema":e(a).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:e(a).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),e(a).header.multilingual.visible?(k(),R(_,{key:0,lang:e(d).locale,"lang-options":e(d).localeOptions,"show-tooltip":!1,onChangeLang:e(d).changeLocale},null,8,["lang","lang-options","onChangeLang"])):se("",!0)])]),p("main",Te,[p("h3",Ke,y(e(o)(i.value.label)),1),p("div",We,[n(de,{name:e(a).page.animateMode,mode:"out-in",appear:""},{default:r(()=>[(k(),R(ce(i.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{Je as default};
